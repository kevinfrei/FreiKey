# First, add some errors for undefined values
ifndef PROJ_NAME
  $(error PROJ_NAME is not defined!)
endif
ifndef BOARD_NAME
  $(error BOARD_NAME is not defined!)
endif
ifndef IN_USB
  $(error IN_USB is not defined!)
endif
ifndef IN_SPEED
  $(error IN_SPEED is not defined!)
endif
ifndef IN_OPT
  $(error IN_OPT is not defined!)
endif
ifndef IN_KEYS
  $(error IN_KEYS is not defined!)
endif
ifndef EXTRA_TIME_LOCAL
  $(error EXTRA_TIME_LOCAL is not defined!)
endif
ifndef RUNTIME_TOOLS_TEENSY_TOOLS_PATH
  $(error RUNTIME_TOOLS_TEENSY_TOOLS_PATH is not defined!)
endif
ifndef RUNTIME_TOOLS_TEENSY_COMPILE_PATH
  $(error RUNTIME_TOOLS_TEENSY_COMPILE_PATH is not defined!)
endif
ifndef CMD_PATH
  $(error CMD_PATH is not defined!)
endif
ifndef BUILD_PATH
  $(error BUILD_PATH is not defined!)
endif
ifndef SERIAL_PORT
  $(error SERIAL_PORT is not defined!)
endif
ifndef SERIAL_PORT_LABEL
  $(error SERIAL_PORT_LABEL is not defined!)
endif
ifndef SERIAL_PORT_PROTOCOL
  $(error SERIAL_PORT_PROTOCOL is not defined!)
endif

# Check for some source files
ifeq (${USER_C_SRCS}${USER_CPP_SRCS}${USER_S_SRCS},)
  $(error You must define USER_C_SRCS, USER_CPP_SRCS, or USER_S_SRCS)
endif

# And here are all the definitions
ifeq ($(OS), Windows_NT)
  RUNTIME_OS=windows
else
  uname=$(shell uname -s)
  ifeq ($(uname), Darwin)
    RUNTIME_OS=macosx
  endif
endif
RUNTIME_OS?=linux
RUNTIME_PLATFORM_PATH=C:/Users/freik/AppData/Local/Arduino15/packages/teensy/hardware/avr/1.58.1
RUNTIME_IDE_VERSION=10819
IDE_VERSION=10819
BUILD_PROJECT_NAME=${PROJ_NAME}
ifeq (${BOARD_NAME}, teensy41)
  SERIAL_RESTART_CMD=false
  UPLOAD_PORT_MODELID=0x25
  UPLOAD_PROTOCOL=teensy
  UPLOAD_TOOL=teensyloader
  UPLOAD_TOOL_TEENSY=teensyloader
  UPLOAD_TOOL_DEFAULT=teensyloader
  BUILD_COMMAND_SIZE=arm-none-eabi-size
  BUILD_COMMAND_LINKER=arm-none-eabi-gcc
  BUILD_COMMAND_OBJDUMP=arm-none-eabi-objdump
  BUILD_COMMAND_OBJCOPY=arm-none-eabi-objcopy
  BUILD_COMMAND_AR=arm-none-eabi-gcc-ar
  BUILD_COMMAND_G__=arm-none-eabi-g++
  BUILD_COMMAND_GCC=arm-none-eabi-gcc
  BUILD_TOOLCHAIN=arm/bin/
  BUILD_WARN_DATA_PERCENTAGE=99
  BUILD_MCU=imxrt1062
  BUILD_CORE=teensy4
  BUILD_FLAGS_LIBS=-larm_cortexM7lfsp_math -lm -lstdc++
  BUILD_FLAGS_S=-x assembler-with-cpp
  BUILD_FLAGS_CPP=-std=gnu++14 -fno-exceptions -fpermissive -fno-rtti -fno-threadsafe-statics -felide-constructors -Wno-error=narrowing
  BUILD_FLAGS_DEFS=-D__IMXRT1062__ -DTEENSYDUINO=158
  BUILD_FLAGS_CPU=-mthumb -mcpu=cortex-m7 -mfloat-abi=hard -mfpu=fpv5-d16
  BUILD_FLAGS_OPTIMIZE=-Os
  BUILD_FLAGS_DEP=-MMD
  BUILD_FLAGS_COMMON=-g -Wall -ffunction-sections -fdata-sections -nostdlib
  BUILD_BOARD=TEENSY41
  NAME=Teensy 4.1
  ifeq (${IN_USB}, serial)
    UPLOAD_PORT_USBTYPE=USB_SERIAL
    BUILD_USBTYPE=USB_SERIAL
  else ifeq (${IN_USB}, serial2)
    UPLOAD_PORT_USBTYPE=USB_DUAL_SERIAL
    BUILD_USBTYPE=USB_DUAL_SERIAL
  else ifeq (${IN_USB}, serial3)
    UPLOAD_PORT_USBTYPE=USB_TRIPLE_SERIAL
    BUILD_USBTYPE=USB_TRIPLE_SERIAL
  else ifeq (${IN_USB}, keyboard)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_KEYBOARDONLY
    BUILD_USBTYPE=USB_KEYBOARDONLY
  else ifeq (${IN_USB}, touch)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_TOUCHSCREEN
    BUILD_USBTYPE=USB_TOUCHSCREEN
  else ifeq (${IN_USB}, hidtouch)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_HID_TOUCHSCREEN
    BUILD_USBTYPE=USB_HID_TOUCHSCREEN
  else ifeq (${IN_USB}, hid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_HID
    BUILD_USBTYPE=USB_HID
  else ifeq (${IN_USB}, serialhid)
    UPLOAD_PORT_USBTYPE=USB_SERIAL_HID
    BUILD_USBTYPE=USB_SERIAL_HID
  else ifeq (${IN_USB}, midi)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI
    BUILD_USBTYPE=USB_MIDI
  else ifeq (${IN_USB}, midi4)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI4
    BUILD_USBTYPE=USB_MIDI4
  else ifeq (${IN_USB}, midi16)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI16
    BUILD_USBTYPE=USB_MIDI16
  else ifeq (${IN_USB}, serialmidi)
    UPLOAD_PORT_USBTYPE=USB_MIDI_SERIAL
    BUILD_USBTYPE=USB_MIDI_SERIAL
  else ifeq (${IN_USB}, serialmidi4)
    UPLOAD_PORT_USBTYPE=USB_MIDI4_SERIAL
    BUILD_USBTYPE=USB_MIDI4_SERIAL
  else ifeq (${IN_USB}, serialmidi16)
    UPLOAD_PORT_USBTYPE=USB_MIDI16_SERIAL
    BUILD_USBTYPE=USB_MIDI16_SERIAL
  else ifeq (${IN_USB}, audio)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_AUDIO
    BUILD_USBTYPE=USB_AUDIO
  else ifeq (${IN_USB}, serialmidiaudio)
    UPLOAD_PORT_USBTYPE=USB_MIDI_AUDIO_SERIAL
    BUILD_USBTYPE=USB_MIDI_AUDIO_SERIAL
  else ifeq (${IN_USB}, serialmidi16audio)
    UPLOAD_PORT_USBTYPE=USB_MIDI16_AUDIO_SERIAL
    BUILD_USBTYPE=USB_MIDI16_AUDIO_SERIAL
  else ifeq (${IN_USB}, mtp)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MTPDISK
    BUILD_USBTYPE=USB_MTPDISK
  else ifeq (${IN_USB}, serialmtp)
    UPLOAD_PORT_USBTYPE=USB_MTPDISK_SERIAL
    BUILD_USBTYPE=USB_MTPDISK_SERIAL
  else ifeq (${IN_USB}, rawhid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_RAWHID
    BUILD_USBTYPE=USB_RAWHID
  else ifeq (${IN_USB}, flightsim)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_FLIGHTSIM
    BUILD_USBTYPE=USB_FLIGHTSIM
  else ifeq (${IN_USB}, flightsimjoystick)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_FLIGHTSIM_JOYSTICK
    BUILD_USBTYPE=USB_FLIGHTSIM_JOYSTICK
  endif
  ifeq (${IN_SPEED}, 600)
    BUILD_FCPU=600000000
  else ifeq (${IN_SPEED}, 528)
    BUILD_FCPU=528000000
  else ifeq (${IN_SPEED}, 450)
    BUILD_FCPU=450000000
  else ifeq (${IN_SPEED}, 396)
    BUILD_FCPU=396000000
  else ifeq (${IN_SPEED}, 150)
    BUILD_FCPU=150000000
  else ifeq (${IN_SPEED}, 24)
    BUILD_FCPU=24000000
  else ifeq (${IN_SPEED}, 720)
    BUILD_FCPU=720000000
  else ifeq (${IN_SPEED}, 816)
    BUILD_FCPU=816000000
  else ifeq (${IN_SPEED}, 912)
    BUILD_FCPU=912000000
  else ifeq (${IN_SPEED}, 960)
    BUILD_FCPU=960000000
  else ifeq (${IN_SPEED}, 1008)
    BUILD_FCPU=1008000000
  endif
  ifeq (${IN_OPT}, o2std)
    BUILD_FLAGS_OPTIMIZE=-O2
  else ifeq (${IN_OPT}, o1std)
    BUILD_FLAGS_OPTIMIZE=-O1
  else ifeq (${IN_OPT}, o3std)
    BUILD_FLAGS_OPTIMIZE=-O3
  else ifeq (${IN_OPT}, ogstd)
    BUILD_FLAGS_OPTIMIZE=-Og
  else ifeq (${IN_OPT}, osstd)
    BUILD_FLAGS_OPTIMIZE=-Os --specs=nano.specs
  endif
  ifeq (${IN_KEYS}, en-us)
    BUILD_KEYLAYOUT=US_ENGLISH
  else ifeq (${IN_KEYS}, fr-ca)
    BUILD_KEYLAYOUT=CANADIAN_FRENCH
  else ifeq (${IN_KEYS}, xx-ca)
    BUILD_KEYLAYOUT=CANADIAN_MULTILINGUAL
  else ifeq (${IN_KEYS}, cz-cz)
    BUILD_KEYLAYOUT=CZECH
  else ifeq (${IN_KEYS}, da-da)
    BUILD_KEYLAYOUT=DANISH
  else ifeq (${IN_KEYS}, fi-fi)
    BUILD_KEYLAYOUT=FINNISH
  else ifeq (${IN_KEYS}, fr-fr)
    BUILD_KEYLAYOUT=FRENCH
  else ifeq (${IN_KEYS}, fr-be)
    BUILD_KEYLAYOUT=FRENCH_BELGIAN
  else ifeq (${IN_KEYS}, fr-ch)
    BUILD_KEYLAYOUT=FRENCH_SWISS
  else ifeq (${IN_KEYS}, de-de)
    BUILD_KEYLAYOUT=GERMAN
  else ifeq (${IN_KEYS}, de-dm)
    BUILD_KEYLAYOUT=GERMAN_MAC
  else ifeq (${IN_KEYS}, de-ch)
    BUILD_KEYLAYOUT=GERMAN_SWISS
  else ifeq (${IN_KEYS}, is-is)
    BUILD_KEYLAYOUT=ICELANDIC
  else ifeq (${IN_KEYS}, en-ie)
    BUILD_KEYLAYOUT=IRISH
  else ifeq (${IN_KEYS}, it-it)
    BUILD_KEYLAYOUT=ITALIAN
  else ifeq (${IN_KEYS}, no-no)
    BUILD_KEYLAYOUT=NORWEGIAN
  else ifeq (${IN_KEYS}, pt-pt)
    BUILD_KEYLAYOUT=PORTUGUESE
  else ifeq (${IN_KEYS}, pt-br)
    BUILD_KEYLAYOUT=PORTUGUESE_BRAZILIAN
  else ifeq (${IN_KEYS}, rs-rs)
    BUILD_KEYLAYOUT=SERBIAN_LATIN_ONLY
  else ifeq (${IN_KEYS}, es-es)
    BUILD_KEYLAYOUT=SPANISH
  else ifeq (${IN_KEYS}, es-mx)
    BUILD_KEYLAYOUT=SPANISH_LATIN_AMERICA
  else ifeq (${IN_KEYS}, sv-se)
    BUILD_KEYLAYOUT=SWEDISH
  else ifeq (${IN_KEYS}, tr-tr)
    BUILD_KEYLAYOUT=TURKISH
  else ifeq (${IN_KEYS}, en-gb)
    BUILD_KEYLAYOUT=UNITED_KINGDOM
  else ifeq (${IN_KEYS}, usint)
    BUILD_KEYLAYOUT=US_INTERNATIONAL
  endif
else ifeq (${BOARD_NAME}, teensyMM)
  SERIAL_RESTART_CMD=false
  UPLOAD_PORT_MODELID=0x26
  UPLOAD_PROTOCOL=teensy
  UPLOAD_TOOL=teensyloader
  UPLOAD_TOOL_TEENSY=teensyloader
  UPLOAD_TOOL_DEFAULT=teensyloader
  BUILD_COMMAND_SIZE=arm-none-eabi-size
  BUILD_COMMAND_LINKER=arm-none-eabi-gcc
  BUILD_COMMAND_OBJDUMP=arm-none-eabi-objdump
  BUILD_COMMAND_OBJCOPY=arm-none-eabi-objcopy
  BUILD_COMMAND_AR=arm-none-eabi-gcc-ar
  BUILD_COMMAND_G__=arm-none-eabi-g++
  BUILD_COMMAND_GCC=arm-none-eabi-gcc
  BUILD_TOOLCHAIN=arm/bin/
  BUILD_WARN_DATA_PERCENTAGE=99
  BUILD_MCU=imxrt1062
  BUILD_CORE=teensy4
  BUILD_FLAGS_LIBS=-larm_cortexM7lfsp_math -lm -lstdc++
  BUILD_FLAGS_S=-x assembler-with-cpp
  BUILD_FLAGS_CPP=-std=gnu++14 -fno-exceptions -fpermissive -fno-rtti -fno-threadsafe-statics -felide-constructors -Wno-error=narrowing
  BUILD_FLAGS_DEFS=-D__IMXRT1062__ -DTEENSYDUINO=158
  BUILD_FLAGS_CPU=-mthumb -mcpu=cortex-m7 -mfloat-abi=hard -mfpu=fpv5-d16
  BUILD_FLAGS_OPTIMIZE=-Os
  BUILD_FLAGS_DEP=-MMD
  BUILD_FLAGS_COMMON=-g -Wall -ffunction-sections -fdata-sections -nostdlib
  BUILD_BOARD=TEENSY_MICROMOD
  NAME=Teensy MicroMod
  ifeq (${IN_USB}, serial)
    UPLOAD_PORT_USBTYPE=USB_SERIAL
    BUILD_USBTYPE=USB_SERIAL
  else ifeq (${IN_USB}, serial2)
    UPLOAD_PORT_USBTYPE=USB_DUAL_SERIAL
    BUILD_USBTYPE=USB_DUAL_SERIAL
  else ifeq (${IN_USB}, serial3)
    UPLOAD_PORT_USBTYPE=USB_TRIPLE_SERIAL
    BUILD_USBTYPE=USB_TRIPLE_SERIAL
  else ifeq (${IN_USB}, keyboard)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_KEYBOARDONLY
    BUILD_USBTYPE=USB_KEYBOARDONLY
  else ifeq (${IN_USB}, touch)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_TOUCHSCREEN
    BUILD_USBTYPE=USB_TOUCHSCREEN
  else ifeq (${IN_USB}, hidtouch)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_HID_TOUCHSCREEN
    BUILD_USBTYPE=USB_HID_TOUCHSCREEN
  else ifeq (${IN_USB}, hid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_HID
    BUILD_USBTYPE=USB_HID
  else ifeq (${IN_USB}, serialhid)
    UPLOAD_PORT_USBTYPE=USB_SERIAL_HID
    BUILD_USBTYPE=USB_SERIAL_HID
  else ifeq (${IN_USB}, midi)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI
    BUILD_USBTYPE=USB_MIDI
  else ifeq (${IN_USB}, midi4)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI4
    BUILD_USBTYPE=USB_MIDI4
  else ifeq (${IN_USB}, midi16)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI16
    BUILD_USBTYPE=USB_MIDI16
  else ifeq (${IN_USB}, serialmidi)
    UPLOAD_PORT_USBTYPE=USB_MIDI_SERIAL
    BUILD_USBTYPE=USB_MIDI_SERIAL
  else ifeq (${IN_USB}, serialmidi4)
    UPLOAD_PORT_USBTYPE=USB_MIDI4_SERIAL
    BUILD_USBTYPE=USB_MIDI4_SERIAL
  else ifeq (${IN_USB}, serialmidi16)
    UPLOAD_PORT_USBTYPE=USB_MIDI16_SERIAL
    BUILD_USBTYPE=USB_MIDI16_SERIAL
  else ifeq (${IN_USB}, audio)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_AUDIO
    BUILD_USBTYPE=USB_AUDIO
  else ifeq (${IN_USB}, serialmidiaudio)
    UPLOAD_PORT_USBTYPE=USB_MIDI_AUDIO_SERIAL
    BUILD_USBTYPE=USB_MIDI_AUDIO_SERIAL
  else ifeq (${IN_USB}, serialmidi16audio)
    UPLOAD_PORT_USBTYPE=USB_MIDI16_AUDIO_SERIAL
    BUILD_USBTYPE=USB_MIDI16_AUDIO_SERIAL
  else ifeq (${IN_USB}, mtp)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MTPDISK
    BUILD_USBTYPE=USB_MTPDISK
  else ifeq (${IN_USB}, serialmtp)
    UPLOAD_PORT_USBTYPE=USB_MTPDISK_SERIAL
    BUILD_USBTYPE=USB_MTPDISK_SERIAL
  else ifeq (${IN_USB}, rawhid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_RAWHID
    BUILD_USBTYPE=USB_RAWHID
  else ifeq (${IN_USB}, flightsim)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_FLIGHTSIM
    BUILD_USBTYPE=USB_FLIGHTSIM
  else ifeq (${IN_USB}, flightsimjoystick)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_FLIGHTSIM_JOYSTICK
    BUILD_USBTYPE=USB_FLIGHTSIM_JOYSTICK
  endif
  ifeq (${IN_SPEED}, 600)
    BUILD_FCPU=600000000
  else ifeq (${IN_SPEED}, 528)
    BUILD_FCPU=528000000
  else ifeq (${IN_SPEED}, 450)
    BUILD_FCPU=450000000
  else ifeq (${IN_SPEED}, 396)
    BUILD_FCPU=396000000
  else ifeq (${IN_SPEED}, 150)
    BUILD_FCPU=150000000
  else ifeq (${IN_SPEED}, 24)
    BUILD_FCPU=24000000
  else ifeq (${IN_SPEED}, 720)
    BUILD_FCPU=720000000
  else ifeq (${IN_SPEED}, 816)
    BUILD_FCPU=816000000
  else ifeq (${IN_SPEED}, 912)
    BUILD_FCPU=912000000
  else ifeq (${IN_SPEED}, 960)
    BUILD_FCPU=960000000
  else ifeq (${IN_SPEED}, 1008)
    BUILD_FCPU=1008000000
  endif
  ifeq (${IN_OPT}, o2std)
    BUILD_FLAGS_OPTIMIZE=-O2
  else ifeq (${IN_OPT}, o1std)
    BUILD_FLAGS_OPTIMIZE=-O1
  else ifeq (${IN_OPT}, o3std)
    BUILD_FLAGS_OPTIMIZE=-O3
  else ifeq (${IN_OPT}, ogstd)
    BUILD_FLAGS_OPTIMIZE=-Og
  else ifeq (${IN_OPT}, osstd)
    BUILD_FLAGS_OPTIMIZE=-Os --specs=nano.specs
  endif
  ifeq (${IN_KEYS}, en-us)
    BUILD_KEYLAYOUT=US_ENGLISH
  else ifeq (${IN_KEYS}, fr-ca)
    BUILD_KEYLAYOUT=CANADIAN_FRENCH
  else ifeq (${IN_KEYS}, xx-ca)
    BUILD_KEYLAYOUT=CANADIAN_MULTILINGUAL
  else ifeq (${IN_KEYS}, cz-cz)
    BUILD_KEYLAYOUT=CZECH
  else ifeq (${IN_KEYS}, da-da)
    BUILD_KEYLAYOUT=DANISH
  else ifeq (${IN_KEYS}, fi-fi)
    BUILD_KEYLAYOUT=FINNISH
  else ifeq (${IN_KEYS}, fr-fr)
    BUILD_KEYLAYOUT=FRENCH
  else ifeq (${IN_KEYS}, fr-be)
    BUILD_KEYLAYOUT=FRENCH_BELGIAN
  else ifeq (${IN_KEYS}, fr-ch)
    BUILD_KEYLAYOUT=FRENCH_SWISS
  else ifeq (${IN_KEYS}, de-de)
    BUILD_KEYLAYOUT=GERMAN
  else ifeq (${IN_KEYS}, de-dm)
    BUILD_KEYLAYOUT=GERMAN_MAC
  else ifeq (${IN_KEYS}, de-ch)
    BUILD_KEYLAYOUT=GERMAN_SWISS
  else ifeq (${IN_KEYS}, is-is)
    BUILD_KEYLAYOUT=ICELANDIC
  else ifeq (${IN_KEYS}, en-ie)
    BUILD_KEYLAYOUT=IRISH
  else ifeq (${IN_KEYS}, it-it)
    BUILD_KEYLAYOUT=ITALIAN
  else ifeq (${IN_KEYS}, no-no)
    BUILD_KEYLAYOUT=NORWEGIAN
  else ifeq (${IN_KEYS}, pt-pt)
    BUILD_KEYLAYOUT=PORTUGUESE
  else ifeq (${IN_KEYS}, pt-br)
    BUILD_KEYLAYOUT=PORTUGUESE_BRAZILIAN
  else ifeq (${IN_KEYS}, rs-rs)
    BUILD_KEYLAYOUT=SERBIAN_LATIN_ONLY
  else ifeq (${IN_KEYS}, es-es)
    BUILD_KEYLAYOUT=SPANISH
  else ifeq (${IN_KEYS}, es-mx)
    BUILD_KEYLAYOUT=SPANISH_LATIN_AMERICA
  else ifeq (${IN_KEYS}, sv-se)
    BUILD_KEYLAYOUT=SWEDISH
  else ifeq (${IN_KEYS}, tr-tr)
    BUILD_KEYLAYOUT=TURKISH
  else ifeq (${IN_KEYS}, en-gb)
    BUILD_KEYLAYOUT=UNITED_KINGDOM
  else ifeq (${IN_KEYS}, usint)
    BUILD_KEYLAYOUT=US_INTERNATIONAL
  endif
else ifeq (${BOARD_NAME}, teensy40)
  SERIAL_RESTART_CMD=false
  UPLOAD_PORT_MODELID=0x24
  UPLOAD_PROTOCOL=teensy
  UPLOAD_TOOL=teensyloader
  UPLOAD_TOOL_TEENSY=teensyloader
  UPLOAD_TOOL_DEFAULT=teensyloader
  BUILD_COMMAND_SIZE=arm-none-eabi-size
  BUILD_COMMAND_LINKER=arm-none-eabi-gcc
  BUILD_COMMAND_OBJDUMP=arm-none-eabi-objdump
  BUILD_COMMAND_OBJCOPY=arm-none-eabi-objcopy
  BUILD_COMMAND_AR=arm-none-eabi-gcc-ar
  BUILD_COMMAND_G__=arm-none-eabi-g++
  BUILD_COMMAND_GCC=arm-none-eabi-gcc
  BUILD_TOOLCHAIN=arm/bin/
  BUILD_WARN_DATA_PERCENTAGE=99
  BUILD_MCU=imxrt1062
  BUILD_CORE=teensy4
  BUILD_FLAGS_LIBS=-larm_cortexM7lfsp_math -lm -lstdc++
  BUILD_FLAGS_S=-x assembler-with-cpp
  BUILD_FLAGS_CPP=-std=gnu++14 -fno-exceptions -fpermissive -fno-rtti -fno-threadsafe-statics -felide-constructors -Wno-error=narrowing
  BUILD_FLAGS_DEFS=-D__IMXRT1062__ -DTEENSYDUINO=158
  BUILD_FLAGS_CPU=-mthumb -mcpu=cortex-m7 -mfloat-abi=hard -mfpu=fpv5-d16
  BUILD_FLAGS_OPTIMIZE=-Os
  BUILD_FLAGS_DEP=-MMD
  BUILD_FLAGS_COMMON=-g -Wall -ffunction-sections -fdata-sections -nostdlib
  BUILD_BOARD=TEENSY40
  NAME=Teensy 4.0
  ifeq (${IN_USB}, serial)
    UPLOAD_PORT_USBTYPE=USB_SERIAL
    BUILD_USBTYPE=USB_SERIAL
  else ifeq (${IN_USB}, serial2)
    UPLOAD_PORT_USBTYPE=USB_DUAL_SERIAL
    BUILD_USBTYPE=USB_DUAL_SERIAL
  else ifeq (${IN_USB}, serial3)
    UPLOAD_PORT_USBTYPE=USB_TRIPLE_SERIAL
    BUILD_USBTYPE=USB_TRIPLE_SERIAL
  else ifeq (${IN_USB}, keyboard)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_KEYBOARDONLY
    BUILD_USBTYPE=USB_KEYBOARDONLY
  else ifeq (${IN_USB}, touch)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_TOUCHSCREEN
    BUILD_USBTYPE=USB_TOUCHSCREEN
  else ifeq (${IN_USB}, hidtouch)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_HID_TOUCHSCREEN
    BUILD_USBTYPE=USB_HID_TOUCHSCREEN
  else ifeq (${IN_USB}, hid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_HID
    BUILD_USBTYPE=USB_HID
  else ifeq (${IN_USB}, serialhid)
    UPLOAD_PORT_USBTYPE=USB_SERIAL_HID
    BUILD_USBTYPE=USB_SERIAL_HID
  else ifeq (${IN_USB}, midi)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI
    BUILD_USBTYPE=USB_MIDI
  else ifeq (${IN_USB}, midi4)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI4
    BUILD_USBTYPE=USB_MIDI4
  else ifeq (${IN_USB}, midi16)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI16
    BUILD_USBTYPE=USB_MIDI16
  else ifeq (${IN_USB}, serialmidi)
    UPLOAD_PORT_USBTYPE=USB_MIDI_SERIAL
    BUILD_USBTYPE=USB_MIDI_SERIAL
  else ifeq (${IN_USB}, serialmidi4)
    UPLOAD_PORT_USBTYPE=USB_MIDI4_SERIAL
    BUILD_USBTYPE=USB_MIDI4_SERIAL
  else ifeq (${IN_USB}, serialmidi16)
    UPLOAD_PORT_USBTYPE=USB_MIDI16_SERIAL
    BUILD_USBTYPE=USB_MIDI16_SERIAL
  else ifeq (${IN_USB}, audio)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_AUDIO
    BUILD_USBTYPE=USB_AUDIO
  else ifeq (${IN_USB}, serialmidiaudio)
    UPLOAD_PORT_USBTYPE=USB_MIDI_AUDIO_SERIAL
    BUILD_USBTYPE=USB_MIDI_AUDIO_SERIAL
  else ifeq (${IN_USB}, serialmidi16audio)
    UPLOAD_PORT_USBTYPE=USB_MIDI16_AUDIO_SERIAL
    BUILD_USBTYPE=USB_MIDI16_AUDIO_SERIAL
  else ifeq (${IN_USB}, mtp)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MTPDISK
    BUILD_USBTYPE=USB_MTPDISK
  else ifeq (${IN_USB}, serialmtp)
    UPLOAD_PORT_USBTYPE=USB_MTPDISK_SERIAL
    BUILD_USBTYPE=USB_MTPDISK_SERIAL
  else ifeq (${IN_USB}, rawhid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_RAWHID
    BUILD_USBTYPE=USB_RAWHID
  else ifeq (${IN_USB}, flightsim)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_FLIGHTSIM
    BUILD_USBTYPE=USB_FLIGHTSIM
  else ifeq (${IN_USB}, flightsimjoystick)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_FLIGHTSIM_JOYSTICK
    BUILD_USBTYPE=USB_FLIGHTSIM_JOYSTICK
  endif
  ifeq (${IN_SPEED}, 600)
    BUILD_FCPU=600000000
  else ifeq (${IN_SPEED}, 528)
    BUILD_FCPU=528000000
  else ifeq (${IN_SPEED}, 450)
    BUILD_FCPU=450000000
  else ifeq (${IN_SPEED}, 396)
    BUILD_FCPU=396000000
  else ifeq (${IN_SPEED}, 150)
    BUILD_FCPU=150000000
  else ifeq (${IN_SPEED}, 24)
    BUILD_FCPU=24000000
  else ifeq (${IN_SPEED}, 720)
    BUILD_FCPU=720000000
  else ifeq (${IN_SPEED}, 816)
    BUILD_FCPU=816000000
  else ifeq (${IN_SPEED}, 912)
    BUILD_FCPU=912000000
  else ifeq (${IN_SPEED}, 960)
    BUILD_FCPU=960000000
  else ifeq (${IN_SPEED}, 1008)
    BUILD_FCPU=1008000000
  endif
  ifeq (${IN_OPT}, o2std)
    BUILD_FLAGS_OPTIMIZE=-O2
  else ifeq (${IN_OPT}, o1std)
    BUILD_FLAGS_OPTIMIZE=-O1
  else ifeq (${IN_OPT}, o3std)
    BUILD_FLAGS_OPTIMIZE=-O3
  else ifeq (${IN_OPT}, ogstd)
    BUILD_FLAGS_OPTIMIZE=-Og
  else ifeq (${IN_OPT}, osstd)
    BUILD_FLAGS_OPTIMIZE=-Os --specs=nano.specs
  endif
  ifeq (${IN_KEYS}, en-us)
    BUILD_KEYLAYOUT=US_ENGLISH
  else ifeq (${IN_KEYS}, fr-ca)
    BUILD_KEYLAYOUT=CANADIAN_FRENCH
  else ifeq (${IN_KEYS}, xx-ca)
    BUILD_KEYLAYOUT=CANADIAN_MULTILINGUAL
  else ifeq (${IN_KEYS}, cz-cz)
    BUILD_KEYLAYOUT=CZECH
  else ifeq (${IN_KEYS}, da-da)
    BUILD_KEYLAYOUT=DANISH
  else ifeq (${IN_KEYS}, fi-fi)
    BUILD_KEYLAYOUT=FINNISH
  else ifeq (${IN_KEYS}, fr-fr)
    BUILD_KEYLAYOUT=FRENCH
  else ifeq (${IN_KEYS}, fr-be)
    BUILD_KEYLAYOUT=FRENCH_BELGIAN
  else ifeq (${IN_KEYS}, fr-ch)
    BUILD_KEYLAYOUT=FRENCH_SWISS
  else ifeq (${IN_KEYS}, de-de)
    BUILD_KEYLAYOUT=GERMAN
  else ifeq (${IN_KEYS}, de-dm)
    BUILD_KEYLAYOUT=GERMAN_MAC
  else ifeq (${IN_KEYS}, de-ch)
    BUILD_KEYLAYOUT=GERMAN_SWISS
  else ifeq (${IN_KEYS}, is-is)
    BUILD_KEYLAYOUT=ICELANDIC
  else ifeq (${IN_KEYS}, en-ie)
    BUILD_KEYLAYOUT=IRISH
  else ifeq (${IN_KEYS}, it-it)
    BUILD_KEYLAYOUT=ITALIAN
  else ifeq (${IN_KEYS}, no-no)
    BUILD_KEYLAYOUT=NORWEGIAN
  else ifeq (${IN_KEYS}, pt-pt)
    BUILD_KEYLAYOUT=PORTUGUESE
  else ifeq (${IN_KEYS}, pt-br)
    BUILD_KEYLAYOUT=PORTUGUESE_BRAZILIAN
  else ifeq (${IN_KEYS}, rs-rs)
    BUILD_KEYLAYOUT=SERBIAN_LATIN_ONLY
  else ifeq (${IN_KEYS}, es-es)
    BUILD_KEYLAYOUT=SPANISH
  else ifeq (${IN_KEYS}, es-mx)
    BUILD_KEYLAYOUT=SPANISH_LATIN_AMERICA
  else ifeq (${IN_KEYS}, sv-se)
    BUILD_KEYLAYOUT=SWEDISH
  else ifeq (${IN_KEYS}, tr-tr)
    BUILD_KEYLAYOUT=TURKISH
  else ifeq (${IN_KEYS}, en-gb)
    BUILD_KEYLAYOUT=UNITED_KINGDOM
  else ifeq (${IN_KEYS}, usint)
    BUILD_KEYLAYOUT=US_INTERNATIONAL
  endif
else ifeq (${BOARD_NAME}, teensy36)
  SERIAL_RESTART_CMD=false
  BUILD_FLAGS_LIBS=-larm_cortexM4lf_math -lm -lstdc++
  BUILD_FLAGS_S=-x assembler-with-cpp
  BUILD_FLAGS_CPP=-fno-exceptions -fpermissive -felide-constructors -std=gnu++14 -Wno-error=narrowing -fno-rtti
  BUILD_FLAGS_DEFS=-D__MK66FX1M0__ -DTEENSYDUINO=158
  BUILD_FLAGS_CPU=-mthumb -mcpu=cortex-m4 -mfloat-abi=hard -mfpu=fpv4-sp-d16 -fsingle-precision-constant
  BUILD_FLAGS_OPTIMIZE=-Os
  BUILD_FLAGS_DEP=-MMD
  BUILD_FLAGS_COMMON=-g -Wall -ffunction-sections -fdata-sections -nostdlib -mno-unaligned-access
  BUILD_COMMAND_SIZE=arm-none-eabi-size
  BUILD_COMMAND_LINKER=arm-none-eabi-gcc
  BUILD_COMMAND_OBJDUMP=arm-none-eabi-objdump
  BUILD_COMMAND_OBJCOPY=arm-none-eabi-objcopy
  BUILD_COMMAND_AR=arm-none-eabi-gcc-ar
  BUILD_COMMAND_G__=arm-none-eabi-g++
  BUILD_COMMAND_GCC=arm-none-eabi-gcc
  BUILD_TOOLCHAIN=arm/bin/
  BUILD_WARN_DATA_PERCENTAGE=99
  BUILD_MCU=mk66fx1m0
  BUILD_CORE=teensy3
  BUILD_BOARD=TEENSY36
  UPLOAD_PORT_MODELID=0x22
  UPLOAD_PROTOCOL=teensy
  UPLOAD_TOOL=teensyloader
  UPLOAD_TOOL_TEENSY=teensyloader
  UPLOAD_TOOL_DEFAULT=teensyloader
  UPLOAD_MAXIMUM_DATA_SIZE=262144
  UPLOAD_MAXIMUM_SIZE=1048576
  NAME=Teensy 3.6
  ifeq (${IN_USB}, serial)
    UPLOAD_PORT_USBTYPE=USB_SERIAL
    BUILD_USBTYPE=USB_SERIAL
  else ifeq (${IN_USB}, serial2)
    UPLOAD_PORT_USBTYPE=USB_DUAL_SERIAL
    BUILD_USBTYPE=USB_DUAL_SERIAL
  else ifeq (${IN_USB}, serial3)
    UPLOAD_PORT_USBTYPE=USB_TRIPLE_SERIAL
    BUILD_USBTYPE=USB_TRIPLE_SERIAL
  else ifeq (${IN_USB}, keyboard)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_KEYBOARDONLY
    BUILD_USBTYPE=USB_KEYBOARDONLY
  else ifeq (${IN_USB}, touch)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_TOUCHSCREEN
    BUILD_USBTYPE=USB_TOUCHSCREEN
  else ifeq (${IN_USB}, hidtouch)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_HID_TOUCHSCREEN
    BUILD_USBTYPE=USB_HID_TOUCHSCREEN
  else ifeq (${IN_USB}, hid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_HID
    BUILD_USBTYPE=USB_HID
  else ifeq (${IN_USB}, serialhid)
    UPLOAD_PORT_USBTYPE=USB_SERIAL_HID
    BUILD_USBTYPE=USB_SERIAL_HID
  else ifeq (${IN_USB}, midi)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI
    BUILD_USBTYPE=USB_MIDI
  else ifeq (${IN_USB}, midi4)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI4
    BUILD_USBTYPE=USB_MIDI4
  else ifeq (${IN_USB}, midi16)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI16
    BUILD_USBTYPE=USB_MIDI16
  else ifeq (${IN_USB}, serialmidi)
    UPLOAD_PORT_USBTYPE=USB_MIDI_SERIAL
    BUILD_USBTYPE=USB_MIDI_SERIAL
  else ifeq (${IN_USB}, serialmidi4)
    UPLOAD_PORT_USBTYPE=USB_MIDI4_SERIAL
    BUILD_USBTYPE=USB_MIDI4_SERIAL
  else ifeq (${IN_USB}, serialmidi16)
    UPLOAD_PORT_USBTYPE=USB_MIDI16_SERIAL
    BUILD_USBTYPE=USB_MIDI16_SERIAL
  else ifeq (${IN_USB}, audio)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_AUDIO
    BUILD_USBTYPE=USB_AUDIO
  else ifeq (${IN_USB}, serialmidiaudio)
    UPLOAD_PORT_USBTYPE=USB_MIDI_AUDIO_SERIAL
    BUILD_USBTYPE=USB_MIDI_AUDIO_SERIAL
  else ifeq (${IN_USB}, serialmidi16audio)
    UPLOAD_PORT_USBTYPE=USB_MIDI16_AUDIO_SERIAL
    BUILD_USBTYPE=USB_MIDI16_AUDIO_SERIAL
  else ifeq (${IN_USB}, mtp)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MTPDISK
    BUILD_USBTYPE=USB_MTPDISK
  else ifeq (${IN_USB}, serialmtp)
    UPLOAD_PORT_USBTYPE=USB_MTPDISK_SERIAL
    BUILD_USBTYPE=USB_MTPDISK_SERIAL
  else ifeq (${IN_USB}, rawhid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_RAWHID
    BUILD_USBTYPE=USB_RAWHID
  else ifeq (${IN_USB}, flightsim)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_FLIGHTSIM
    BUILD_USBTYPE=USB_FLIGHTSIM
  else ifeq (${IN_USB}, flightsimjoystick)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_FLIGHTSIM_JOYSTICK
    BUILD_USBTYPE=USB_FLIGHTSIM_JOYSTICK
  else ifeq (${IN_USB}, everything)
    UPLOAD_PORT_USBTYPE=USB_EVERYTHING
    BUILD_USBTYPE=USB_EVERYTHING
  else ifeq (${IN_USB}, disable)
    BUILD_USBTYPE=USB_DISABLED
  endif
  ifeq (${IN_SPEED}, 180)
    BUILD_FCPU=180000000
  else ifeq (${IN_SPEED}, 168)
    BUILD_FCPU=168000000
  else ifeq (${IN_SPEED}, 144)
    BUILD_FCPU=144000000
  else ifeq (${IN_SPEED}, 120)
    BUILD_FCPU=120000000
  else ifeq (${IN_SPEED}, 96)
    BUILD_FCPU=96000000
  else ifeq (${IN_SPEED}, 72)
    BUILD_FCPU=72000000
  else ifeq (${IN_SPEED}, 48)
    BUILD_FCPU=48000000
  else ifeq (${IN_SPEED}, 24)
    BUILD_FCPU=24000000
  else ifeq (${IN_SPEED}, 16)
    BUILD_FCPU=16000000
  else ifeq (${IN_SPEED}, 8)
    BUILD_FCPU=8000000
  else ifeq (${IN_SPEED}, 4)
    BUILD_FCPU=4000000
  else ifeq (${IN_SPEED}, 2)
    BUILD_FCPU=2000000
  else ifeq (${IN_SPEED}, 192)
    BUILD_FCPU=192000000
  else ifeq (${IN_SPEED}, 216)
    BUILD_FCPU=216000000
  else ifeq (${IN_SPEED}, 240)
    BUILD_FCPU=240000000
  else ifeq (${IN_SPEED}, 256)
    BUILD_FCPU=256000000
  endif
  ifeq (${IN_OPT}, o2std)
    BUILD_FLAGS_OPTIMIZE=-O2
  else ifeq (${IN_OPT}, o2lto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-O2 -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, o1std)
    BUILD_FLAGS_OPTIMIZE=-O1
  else ifeq (${IN_OPT}, o1lto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-O1 -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, o3std)
    BUILD_FLAGS_OPTIMIZE=-O3
  else ifeq (${IN_OPT}, o3purestd)
    BUILD_FLAGS_OPTIMIZE=-O3 -mpure-code -D__PURE_CODE__
  else ifeq (${IN_OPT}, o3lto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-O3 -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, o3purelto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-O3 -mpure-code -D__PURE_CODE__ -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, ogstd)
    BUILD_FLAGS_OPTIMIZE=-Og
  else ifeq (${IN_OPT}, oglto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-Og -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, osstd)
    BUILD_FLAGS_OPTIMIZE=-Os --specs=nano.specs
  else ifeq (${IN_OPT}, oslto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-Os -flto -fno-fat-lto-objects --specs=nano.specs
  endif
  ifeq (${IN_KEYS}, en-us)
    BUILD_KEYLAYOUT=US_ENGLISH
  else ifeq (${IN_KEYS}, fr-ca)
    BUILD_KEYLAYOUT=CANADIAN_FRENCH
  else ifeq (${IN_KEYS}, xx-ca)
    BUILD_KEYLAYOUT=CANADIAN_MULTILINGUAL
  else ifeq (${IN_KEYS}, cz-cz)
    BUILD_KEYLAYOUT=CZECH
  else ifeq (${IN_KEYS}, da-da)
    BUILD_KEYLAYOUT=DANISH
  else ifeq (${IN_KEYS}, fi-fi)
    BUILD_KEYLAYOUT=FINNISH
  else ifeq (${IN_KEYS}, fr-fr)
    BUILD_KEYLAYOUT=FRENCH
  else ifeq (${IN_KEYS}, fr-be)
    BUILD_KEYLAYOUT=FRENCH_BELGIAN
  else ifeq (${IN_KEYS}, fr-ch)
    BUILD_KEYLAYOUT=FRENCH_SWISS
  else ifeq (${IN_KEYS}, de-de)
    BUILD_KEYLAYOUT=GERMAN
  else ifeq (${IN_KEYS}, de-dm)
    BUILD_KEYLAYOUT=GERMAN_MAC
  else ifeq (${IN_KEYS}, de-ch)
    BUILD_KEYLAYOUT=GERMAN_SWISS
  else ifeq (${IN_KEYS}, is-is)
    BUILD_KEYLAYOUT=ICELANDIC
  else ifeq (${IN_KEYS}, en-ie)
    BUILD_KEYLAYOUT=IRISH
  else ifeq (${IN_KEYS}, it-it)
    BUILD_KEYLAYOUT=ITALIAN
  else ifeq (${IN_KEYS}, no-no)
    BUILD_KEYLAYOUT=NORWEGIAN
  else ifeq (${IN_KEYS}, pt-pt)
    BUILD_KEYLAYOUT=PORTUGUESE
  else ifeq (${IN_KEYS}, pt-br)
    BUILD_KEYLAYOUT=PORTUGUESE_BRAZILIAN
  else ifeq (${IN_KEYS}, rs-rs)
    BUILD_KEYLAYOUT=SERBIAN_LATIN_ONLY
  else ifeq (${IN_KEYS}, es-es)
    BUILD_KEYLAYOUT=SPANISH
  else ifeq (${IN_KEYS}, es-mx)
    BUILD_KEYLAYOUT=SPANISH_LATIN_AMERICA
  else ifeq (${IN_KEYS}, sv-se)
    BUILD_KEYLAYOUT=SWEDISH
  else ifeq (${IN_KEYS}, tr-tr)
    BUILD_KEYLAYOUT=TURKISH
  else ifeq (${IN_KEYS}, en-gb)
    BUILD_KEYLAYOUT=UNITED_KINGDOM
  else ifeq (${IN_KEYS}, usint)
    BUILD_KEYLAYOUT=US_INTERNATIONAL
  endif
else ifeq (${BOARD_NAME}, teensy35)
  SERIAL_RESTART_CMD=false
  BUILD_FLAGS_LIBS=-larm_cortexM4lf_math -lm -lstdc++
  BUILD_FLAGS_S=-x assembler-with-cpp
  BUILD_FLAGS_CPP=-fno-exceptions -fpermissive -felide-constructors -std=gnu++14 -Wno-error=narrowing -fno-rtti
  BUILD_FLAGS_DEFS=-D__MK64FX512__ -DTEENSYDUINO=158
  BUILD_FLAGS_CPU=-mthumb -mcpu=cortex-m4 -mfloat-abi=hard -mfpu=fpv4-sp-d16 -fsingle-precision-constant
  BUILD_FLAGS_OPTIMIZE=-Os
  BUILD_FLAGS_DEP=-MMD
  BUILD_FLAGS_COMMON=-g -Wall -ffunction-sections -fdata-sections -nostdlib -mno-unaligned-access
  BUILD_COMMAND_SIZE=arm-none-eabi-size
  BUILD_COMMAND_LINKER=arm-none-eabi-gcc
  BUILD_COMMAND_OBJDUMP=arm-none-eabi-objdump
  BUILD_COMMAND_OBJCOPY=arm-none-eabi-objcopy
  BUILD_COMMAND_AR=arm-none-eabi-gcc-ar
  BUILD_COMMAND_G__=arm-none-eabi-g++
  BUILD_COMMAND_GCC=arm-none-eabi-gcc
  BUILD_TOOLCHAIN=arm/bin/
  BUILD_WARN_DATA_PERCENTAGE=98
  BUILD_MCU=mk64fx512
  BUILD_CORE=teensy3
  BUILD_BOARD=TEENSY35
  UPLOAD_PORT_MODELID=0x1F
  UPLOAD_PROTOCOL=teensy
  UPLOAD_TOOL=teensyloader
  UPLOAD_TOOL_TEENSY=teensyloader
  UPLOAD_TOOL_DEFAULT=teensyloader
  UPLOAD_MAXIMUM_DATA_SIZE=262136
  UPLOAD_MAXIMUM_SIZE=524288
  NAME=Teensy 3.5
  ifeq (${IN_USB}, serial)
    UPLOAD_PORT_USBTYPE=USB_SERIAL
    BUILD_USBTYPE=USB_SERIAL
  else ifeq (${IN_USB}, serial2)
    UPLOAD_PORT_USBTYPE=USB_DUAL_SERIAL
    BUILD_USBTYPE=USB_DUAL_SERIAL
  else ifeq (${IN_USB}, serial3)
    UPLOAD_PORT_USBTYPE=USB_TRIPLE_SERIAL
    BUILD_USBTYPE=USB_TRIPLE_SERIAL
  else ifeq (${IN_USB}, keyboard)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_KEYBOARDONLY
    BUILD_USBTYPE=USB_KEYBOARDONLY
  else ifeq (${IN_USB}, touch)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_TOUCHSCREEN
    BUILD_USBTYPE=USB_TOUCHSCREEN
  else ifeq (${IN_USB}, hidtouch)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_HID_TOUCHSCREEN
    BUILD_USBTYPE=USB_HID_TOUCHSCREEN
  else ifeq (${IN_USB}, hid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_HID
    BUILD_USBTYPE=USB_HID
  else ifeq (${IN_USB}, serialhid)
    UPLOAD_PORT_USBTYPE=USB_SERIAL_HID
    BUILD_USBTYPE=USB_SERIAL_HID
  else ifeq (${IN_USB}, midi)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI
    BUILD_USBTYPE=USB_MIDI
  else ifeq (${IN_USB}, midi4)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI4
    BUILD_USBTYPE=USB_MIDI4
  else ifeq (${IN_USB}, midi16)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI16
    BUILD_USBTYPE=USB_MIDI16
  else ifeq (${IN_USB}, serialmidi)
    UPLOAD_PORT_USBTYPE=USB_MIDI_SERIAL
    BUILD_USBTYPE=USB_MIDI_SERIAL
  else ifeq (${IN_USB}, serialmidi4)
    UPLOAD_PORT_USBTYPE=USB_MIDI4_SERIAL
    BUILD_USBTYPE=USB_MIDI4_SERIAL
  else ifeq (${IN_USB}, serialmidi16)
    UPLOAD_PORT_USBTYPE=USB_MIDI16_SERIAL
    BUILD_USBTYPE=USB_MIDI16_SERIAL
  else ifeq (${IN_USB}, audio)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_AUDIO
    BUILD_USBTYPE=USB_AUDIO
  else ifeq (${IN_USB}, serialmidiaudio)
    UPLOAD_PORT_USBTYPE=USB_MIDI_AUDIO_SERIAL
    BUILD_USBTYPE=USB_MIDI_AUDIO_SERIAL
  else ifeq (${IN_USB}, serialmidi16audio)
    UPLOAD_PORT_USBTYPE=USB_MIDI16_AUDIO_SERIAL
    BUILD_USBTYPE=USB_MIDI16_AUDIO_SERIAL
  else ifeq (${IN_USB}, mtp)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MTPDISK
    BUILD_USBTYPE=USB_MTPDISK
  else ifeq (${IN_USB}, serialmtp)
    UPLOAD_PORT_USBTYPE=USB_MTPDISK_SERIAL
    BUILD_USBTYPE=USB_MTPDISK_SERIAL
  else ifeq (${IN_USB}, rawhid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_RAWHID
    BUILD_USBTYPE=USB_RAWHID
  else ifeq (${IN_USB}, flightsim)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_FLIGHTSIM
    BUILD_USBTYPE=USB_FLIGHTSIM
  else ifeq (${IN_USB}, flightsimjoystick)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_FLIGHTSIM_JOYSTICK
    BUILD_USBTYPE=USB_FLIGHTSIM_JOYSTICK
  else ifeq (${IN_USB}, everything)
    UPLOAD_PORT_USBTYPE=USB_EVERYTHING
    BUILD_USBTYPE=USB_EVERYTHING
  else ifeq (${IN_USB}, disable)
    BUILD_USBTYPE=USB_DISABLED
  endif
  ifeq (${IN_SPEED}, 120)
    BUILD_FCPU=120000000
  else ifeq (${IN_SPEED}, 96)
    BUILD_FCPU=96000000
  else ifeq (${IN_SPEED}, 72)
    BUILD_FCPU=72000000
  else ifeq (${IN_SPEED}, 48)
    BUILD_FCPU=48000000
  else ifeq (${IN_SPEED}, 24)
    BUILD_FCPU=24000000
  else ifeq (${IN_SPEED}, 16)
    BUILD_FCPU=16000000
  else ifeq (${IN_SPEED}, 8)
    BUILD_FCPU=8000000
  else ifeq (${IN_SPEED}, 4)
    BUILD_FCPU=4000000
  else ifeq (${IN_SPEED}, 2)
    BUILD_FCPU=2000000
  else ifeq (${IN_SPEED}, 144)
    BUILD_FCPU=144000000
  else ifeq (${IN_SPEED}, 168)
    BUILD_FCPU=168000000
  endif
  ifeq (${IN_OPT}, o2std)
    BUILD_FLAGS_OPTIMIZE=-O2
  else ifeq (${IN_OPT}, o2lto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-O2 -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, o1std)
    BUILD_FLAGS_OPTIMIZE=-O1
  else ifeq (${IN_OPT}, o1lto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-O1 -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, o3std)
    BUILD_FLAGS_OPTIMIZE=-O3
  else ifeq (${IN_OPT}, o3purestd)
    BUILD_FLAGS_OPTIMIZE=-O3 -mpure-code -D__PURE_CODE__
  else ifeq (${IN_OPT}, o3lto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-O3 -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, o3purelto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-O3 -mpure-code -D__PURE_CODE__ -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, ogstd)
    BUILD_FLAGS_OPTIMIZE=-Og
  else ifeq (${IN_OPT}, oglto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-Og -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, osstd)
    BUILD_FLAGS_OPTIMIZE=-Os --specs=nano.specs
  else ifeq (${IN_OPT}, oslto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-Os -flto -fno-fat-lto-objects --specs=nano.specs
  endif
  ifeq (${IN_KEYS}, en-us)
    BUILD_KEYLAYOUT=US_ENGLISH
  else ifeq (${IN_KEYS}, fr-ca)
    BUILD_KEYLAYOUT=CANADIAN_FRENCH
  else ifeq (${IN_KEYS}, xx-ca)
    BUILD_KEYLAYOUT=CANADIAN_MULTILINGUAL
  else ifeq (${IN_KEYS}, cz-cz)
    BUILD_KEYLAYOUT=CZECH
  else ifeq (${IN_KEYS}, da-da)
    BUILD_KEYLAYOUT=DANISH
  else ifeq (${IN_KEYS}, fi-fi)
    BUILD_KEYLAYOUT=FINNISH
  else ifeq (${IN_KEYS}, fr-fr)
    BUILD_KEYLAYOUT=FRENCH
  else ifeq (${IN_KEYS}, fr-be)
    BUILD_KEYLAYOUT=FRENCH_BELGIAN
  else ifeq (${IN_KEYS}, fr-ch)
    BUILD_KEYLAYOUT=FRENCH_SWISS
  else ifeq (${IN_KEYS}, de-de)
    BUILD_KEYLAYOUT=GERMAN
  else ifeq (${IN_KEYS}, de-dm)
    BUILD_KEYLAYOUT=GERMAN_MAC
  else ifeq (${IN_KEYS}, de-ch)
    BUILD_KEYLAYOUT=GERMAN_SWISS
  else ifeq (${IN_KEYS}, is-is)
    BUILD_KEYLAYOUT=ICELANDIC
  else ifeq (${IN_KEYS}, en-ie)
    BUILD_KEYLAYOUT=IRISH
  else ifeq (${IN_KEYS}, it-it)
    BUILD_KEYLAYOUT=ITALIAN
  else ifeq (${IN_KEYS}, no-no)
    BUILD_KEYLAYOUT=NORWEGIAN
  else ifeq (${IN_KEYS}, pt-pt)
    BUILD_KEYLAYOUT=PORTUGUESE
  else ifeq (${IN_KEYS}, pt-br)
    BUILD_KEYLAYOUT=PORTUGUESE_BRAZILIAN
  else ifeq (${IN_KEYS}, rs-rs)
    BUILD_KEYLAYOUT=SERBIAN_LATIN_ONLY
  else ifeq (${IN_KEYS}, es-es)
    BUILD_KEYLAYOUT=SPANISH
  else ifeq (${IN_KEYS}, es-mx)
    BUILD_KEYLAYOUT=SPANISH_LATIN_AMERICA
  else ifeq (${IN_KEYS}, sv-se)
    BUILD_KEYLAYOUT=SWEDISH
  else ifeq (${IN_KEYS}, tr-tr)
    BUILD_KEYLAYOUT=TURKISH
  else ifeq (${IN_KEYS}, en-gb)
    BUILD_KEYLAYOUT=UNITED_KINGDOM
  else ifeq (${IN_KEYS}, usint)
    BUILD_KEYLAYOUT=US_INTERNATIONAL
  endif
else ifeq (${BOARD_NAME}, teensy31)
  PID_4=0x0476
  PID_3=0x048A
  PID_2=0x0489
  PID_1=0x0487
  PID_0=0x0483
  VID_4=0x16C0
  VID_3=0x16C0
  VID_2=0x16C0
  VID_1=0x16C0
  VID_0=0x16C0
  SERIAL_RESTART_CMD=false
  BUILD_FLAGS_LIBS=-larm_cortexM4l_math -lm -lstdc++
  BUILD_FLAGS_S=-x assembler-with-cpp
  BUILD_FLAGS_CPP=-fno-exceptions -fpermissive -felide-constructors -std=gnu++14 -Wno-error=narrowing -fno-rtti
  BUILD_FLAGS_DEFS=-D__MK20DX256__ -DTEENSYDUINO=158
  BUILD_FLAGS_CPU=-mthumb -mcpu=cortex-m4 -fsingle-precision-constant
  BUILD_FLAGS_OPTIMIZE=-Os
  BUILD_FLAGS_DEP=-MMD
  BUILD_FLAGS_COMMON=-g -Wall -ffunction-sections -fdata-sections -nostdlib -mno-unaligned-access
  BUILD_COMMAND_SIZE=arm-none-eabi-size
  BUILD_COMMAND_LINKER=arm-none-eabi-gcc
  BUILD_COMMAND_OBJDUMP=arm-none-eabi-objdump
  BUILD_COMMAND_OBJCOPY=arm-none-eabi-objcopy
  BUILD_COMMAND_AR=arm-none-eabi-gcc-ar
  BUILD_COMMAND_G__=arm-none-eabi-g++
  BUILD_COMMAND_GCC=arm-none-eabi-gcc
  BUILD_TOOLCHAIN=arm/bin/
  BUILD_WARN_DATA_PERCENTAGE=97
  BUILD_MCU=mk20dx256
  BUILD_CORE=teensy3
  BUILD_BOARD=TEENSY32
  UPLOAD_PORT_1_MODELID=0x1E
  UPLOAD_PORT_0_MODELID=0x21
  UPLOAD_PROTOCOL=teensy
  UPLOAD_TOOL=teensyloader
  UPLOAD_TOOL_TEENSY=teensyloader
  UPLOAD_TOOL_DEFAULT=teensyloader
  UPLOAD_MAXIMUM_DATA_SIZE=65536
  UPLOAD_MAXIMUM_SIZE=262144
  NAME=Teensy 3.2 / 3.1
  ifeq (${IN_USB}, serial)
    UPLOAD_PORT_USBTYPE=USB_SERIAL
    BUILD_USBTYPE=USB_SERIAL
  else ifeq (${IN_USB}, serial2)
    UPLOAD_PORT_USBTYPE=USB_DUAL_SERIAL
    BUILD_USBTYPE=USB_DUAL_SERIAL
  else ifeq (${IN_USB}, serial3)
    UPLOAD_PORT_USBTYPE=USB_TRIPLE_SERIAL
    BUILD_USBTYPE=USB_TRIPLE_SERIAL
  else ifeq (${IN_USB}, keyboard)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_KEYBOARDONLY
    BUILD_USBTYPE=USB_KEYBOARDONLY
  else ifeq (${IN_USB}, touch)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_TOUCHSCREEN
    BUILD_USBTYPE=USB_TOUCHSCREEN
  else ifeq (${IN_USB}, hidtouch)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_HID_TOUCHSCREEN
    BUILD_USBTYPE=USB_HID_TOUCHSCREEN
  else ifeq (${IN_USB}, hid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_HID
    BUILD_USBTYPE=USB_HID
  else ifeq (${IN_USB}, serialhid)
    UPLOAD_PORT_USBTYPE=USB_SERIAL_HID
    BUILD_USBTYPE=USB_SERIAL_HID
  else ifeq (${IN_USB}, midi)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI
    BUILD_USBTYPE=USB_MIDI
  else ifeq (${IN_USB}, midi4)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI4
    BUILD_USBTYPE=USB_MIDI4
  else ifeq (${IN_USB}, midi16)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI16
    BUILD_USBTYPE=USB_MIDI16
  else ifeq (${IN_USB}, serialmidi)
    UPLOAD_PORT_USBTYPE=USB_MIDI_SERIAL
    BUILD_USBTYPE=USB_MIDI_SERIAL
  else ifeq (${IN_USB}, serialmidi4)
    UPLOAD_PORT_USBTYPE=USB_MIDI4_SERIAL
    BUILD_USBTYPE=USB_MIDI4_SERIAL
  else ifeq (${IN_USB}, serialmidi16)
    UPLOAD_PORT_USBTYPE=USB_MIDI16_SERIAL
    BUILD_USBTYPE=USB_MIDI16_SERIAL
  else ifeq (${IN_USB}, audio)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_AUDIO
    BUILD_USBTYPE=USB_AUDIO
  else ifeq (${IN_USB}, serialmidiaudio)
    UPLOAD_PORT_USBTYPE=USB_MIDI_AUDIO_SERIAL
    BUILD_USBTYPE=USB_MIDI_AUDIO_SERIAL
  else ifeq (${IN_USB}, serialmidi16audio)
    UPLOAD_PORT_USBTYPE=USB_MIDI16_AUDIO_SERIAL
    BUILD_USBTYPE=USB_MIDI16_AUDIO_SERIAL
  else ifeq (${IN_USB}, mtp)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MTPDISK
    BUILD_USBTYPE=USB_MTPDISK
  else ifeq (${IN_USB}, serialmtp)
    UPLOAD_PORT_USBTYPE=USB_MTPDISK_SERIAL
    BUILD_USBTYPE=USB_MTPDISK_SERIAL
  else ifeq (${IN_USB}, rawhid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_RAWHID
    BUILD_USBTYPE=USB_RAWHID
  else ifeq (${IN_USB}, flightsim)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_FLIGHTSIM
    BUILD_USBTYPE=USB_FLIGHTSIM
  else ifeq (${IN_USB}, flightsimjoystick)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_FLIGHTSIM_JOYSTICK
    BUILD_USBTYPE=USB_FLIGHTSIM_JOYSTICK
  else ifeq (${IN_USB}, everything)
    UPLOAD_PORT_USBTYPE=USB_EVERYTHING
    BUILD_USBTYPE=USB_EVERYTHING
  else ifeq (${IN_USB}, disable)
    BUILD_USBTYPE=USB_DISABLED
  endif
  ifeq (${IN_SPEED}, 96)
    BUILD_FCPU=96000000
  else ifeq (${IN_SPEED}, 72)
    BUILD_FCPU=72000000
  else ifeq (${IN_SPEED}, 48)
    BUILD_FCPU=48000000
  else ifeq (${IN_SPEED}, 24)
    BUILD_FCPU=24000000
  else ifeq (${IN_SPEED}, 16)
    BUILD_FCPU=16000000
  else ifeq (${IN_SPEED}, 8)
    BUILD_FCPU=8000000
  else ifeq (${IN_SPEED}, 4)
    BUILD_FCPU=4000000
  else ifeq (${IN_SPEED}, 2)
    BUILD_FCPU=2000000
  else ifeq (${IN_SPEED}, 120)
    BUILD_FCPU=120000000
  else ifeq (${IN_SPEED}, 168)
    BUILD_FCPU=168000000
  else ifeq (${IN_SPEED}, 144)
    BUILD_FCPU=144000000
  endif
  ifeq (${IN_OPT}, o2std)
    BUILD_FLAGS_OPTIMIZE=-O2
  else ifeq (${IN_OPT}, o2lto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-O2 -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, o1std)
    BUILD_FLAGS_OPTIMIZE=-O1
  else ifeq (${IN_OPT}, o1lto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-O1 -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, o3std)
    BUILD_FLAGS_OPTIMIZE=-O3
  else ifeq (${IN_OPT}, o3purestd)
    BUILD_FLAGS_OPTIMIZE=-O3 -mpure-code -D__PURE_CODE__
  else ifeq (${IN_OPT}, o3lto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-O3 -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, o3purelto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-O3 -mpure-code -D__PURE_CODE__ -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, ogstd)
    BUILD_FLAGS_OPTIMIZE=-Og
  else ifeq (${IN_OPT}, oglto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-Og -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, osstd)
    BUILD_FLAGS_OPTIMIZE=-Os --specs=nano.specs
  else ifeq (${IN_OPT}, oslto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-Os -flto -fno-fat-lto-objects --specs=nano.specs
  endif
  ifeq (${IN_KEYS}, en-us)
    BUILD_KEYLAYOUT=US_ENGLISH
  else ifeq (${IN_KEYS}, fr-ca)
    BUILD_KEYLAYOUT=CANADIAN_FRENCH
  else ifeq (${IN_KEYS}, xx-ca)
    BUILD_KEYLAYOUT=CANADIAN_MULTILINGUAL
  else ifeq (${IN_KEYS}, cz-cz)
    BUILD_KEYLAYOUT=CZECH
  else ifeq (${IN_KEYS}, da-da)
    BUILD_KEYLAYOUT=DANISH
  else ifeq (${IN_KEYS}, fi-fi)
    BUILD_KEYLAYOUT=FINNISH
  else ifeq (${IN_KEYS}, fr-fr)
    BUILD_KEYLAYOUT=FRENCH
  else ifeq (${IN_KEYS}, fr-be)
    BUILD_KEYLAYOUT=FRENCH_BELGIAN
  else ifeq (${IN_KEYS}, fr-ch)
    BUILD_KEYLAYOUT=FRENCH_SWISS
  else ifeq (${IN_KEYS}, de-de)
    BUILD_KEYLAYOUT=GERMAN
  else ifeq (${IN_KEYS}, de-dm)
    BUILD_KEYLAYOUT=GERMAN_MAC
  else ifeq (${IN_KEYS}, de-ch)
    BUILD_KEYLAYOUT=GERMAN_SWISS
  else ifeq (${IN_KEYS}, is-is)
    BUILD_KEYLAYOUT=ICELANDIC
  else ifeq (${IN_KEYS}, en-ie)
    BUILD_KEYLAYOUT=IRISH
  else ifeq (${IN_KEYS}, it-it)
    BUILD_KEYLAYOUT=ITALIAN
  else ifeq (${IN_KEYS}, no-no)
    BUILD_KEYLAYOUT=NORWEGIAN
  else ifeq (${IN_KEYS}, pt-pt)
    BUILD_KEYLAYOUT=PORTUGUESE
  else ifeq (${IN_KEYS}, pt-br)
    BUILD_KEYLAYOUT=PORTUGUESE_BRAZILIAN
  else ifeq (${IN_KEYS}, rs-rs)
    BUILD_KEYLAYOUT=SERBIAN_LATIN_ONLY
  else ifeq (${IN_KEYS}, es-es)
    BUILD_KEYLAYOUT=SPANISH
  else ifeq (${IN_KEYS}, es-mx)
    BUILD_KEYLAYOUT=SPANISH_LATIN_AMERICA
  else ifeq (${IN_KEYS}, sv-se)
    BUILD_KEYLAYOUT=SWEDISH
  else ifeq (${IN_KEYS}, tr-tr)
    BUILD_KEYLAYOUT=TURKISH
  else ifeq (${IN_KEYS}, en-gb)
    BUILD_KEYLAYOUT=UNITED_KINGDOM
  else ifeq (${IN_KEYS}, usint)
    BUILD_KEYLAYOUT=US_INTERNATIONAL
  endif
else ifeq (${BOARD_NAME}, teensy30)
  SERIAL_RESTART_CMD=false
  BUILD_FLAGS_LIBS=-larm_cortexM4l_math -lm -lstdc++
  BUILD_FLAGS_LDSPECS=--specs=nano.specs
  BUILD_FLAGS_S=-x assembler-with-cpp
  BUILD_FLAGS_CPP=-fno-exceptions -fpermissive -felide-constructors -std=gnu++14 -Wno-error=narrowing -fno-rtti
  BUILD_FLAGS_DEFS=-D__MK20DX128__ -DTEENSYDUINO=158
  BUILD_FLAGS_CPU=-mthumb -mcpu=cortex-m4 -fsingle-precision-constant
  BUILD_FLAGS_OPTIMIZE=-Os
  BUILD_FLAGS_DEP=-MMD
  BUILD_FLAGS_COMMON=-g -Wall -ffunction-sections -fdata-sections -nostdlib -mno-unaligned-access
  BUILD_COMMAND_SIZE=arm-none-eabi-size
  BUILD_COMMAND_LINKER=arm-none-eabi-gcc
  BUILD_COMMAND_OBJDUMP=arm-none-eabi-objdump
  BUILD_COMMAND_OBJCOPY=arm-none-eabi-objcopy
  BUILD_COMMAND_AR=arm-none-eabi-gcc-ar
  BUILD_COMMAND_G__=arm-none-eabi-g++
  BUILD_COMMAND_GCC=arm-none-eabi-gcc
  BUILD_TOOLCHAIN=arm/bin/
  BUILD_WARN_DATA_PERCENTAGE=94
  BUILD_MCU=mk20dx128
  BUILD_CORE=teensy3
  BUILD_BOARD=TEENSY30
  UPLOAD_PORT_MODELID=0x1D
  UPLOAD_PROTOCOL=teensy
  UPLOAD_TOOL=teensyloader
  UPLOAD_TOOL_TEENSY=teensyloader
  UPLOAD_TOOL_DEFAULT=teensyloader
  UPLOAD_MAXIMUM_DATA_SIZE=16384
  UPLOAD_MAXIMUM_SIZE=131072
  NAME=Teensy 3.0
  ifeq (${IN_USB}, serial)
    UPLOAD_PORT_USBTYPE=USB_SERIAL
    BUILD_USBTYPE=USB_SERIAL
  else ifeq (${IN_USB}, keyboard)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_KEYBOARDONLY
    BUILD_USBTYPE=USB_KEYBOARDONLY
  else ifeq (${IN_USB}, hid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_HID
    BUILD_USBTYPE=USB_HID
  else ifeq (${IN_USB}, serialhid)
    UPLOAD_PORT_USBTYPE=USB_SERIAL_HID
    BUILD_USBTYPE=USB_SERIAL_HID
  else ifeq (${IN_USB}, touch)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_TOUCHSCREEN
    BUILD_USBTYPE=USB_TOUCHSCREEN
  else ifeq (${IN_USB}, midi)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI
    BUILD_USBTYPE=USB_MIDI
  else ifeq (${IN_USB}, midi4)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI4
    BUILD_USBTYPE=USB_MIDI4
  else ifeq (${IN_USB}, serialmidi)
    UPLOAD_PORT_USBTYPE=USB_MIDI_SERIAL
    BUILD_USBTYPE=USB_MIDI_SERIAL
  else ifeq (${IN_USB}, serialmidi4)
    UPLOAD_PORT_USBTYPE=USB_MIDI4_SERIAL
    BUILD_USBTYPE=USB_MIDI4_SERIAL
  else ifeq (${IN_USB}, audio)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_AUDIO
    BUILD_USBTYPE=USB_AUDIO
  else ifeq (${IN_USB}, serialmidiaudio)
    UPLOAD_PORT_USBTYPE=USB_MIDI_AUDIO_SERIAL
    BUILD_USBTYPE=USB_MIDI_AUDIO_SERIAL
  else ifeq (${IN_USB}, mtp)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MTPDISK
    BUILD_USBTYPE=USB_MTPDISK
  else ifeq (${IN_USB}, rawhid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_RAWHID
    BUILD_USBTYPE=USB_RAWHID
  else ifeq (${IN_USB}, flightsim)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_FLIGHTSIM
    BUILD_USBTYPE=USB_FLIGHTSIM
  else ifeq (${IN_USB}, disable)
    BUILD_USBTYPE=USB_DISABLED
  endif
  ifeq (${IN_SPEED}, 96)
    BUILD_FCPU=96000000
  else ifeq (${IN_SPEED}, 48)
    BUILD_FCPU=48000000
  else ifeq (${IN_SPEED}, 24)
    BUILD_FCPU=24000000
  endif
  ifeq (${IN_OPT}, o2std)
    BUILD_FLAGS_OPTIMIZE=-O2
  else ifeq (${IN_OPT}, o2lto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-O2 -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, o1std)
    BUILD_FLAGS_OPTIMIZE=-O1
  else ifeq (${IN_OPT}, o1lto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-O1 -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, o3std)
    BUILD_FLAGS_OPTIMIZE=-O3
  else ifeq (${IN_OPT}, o3lto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-O3 -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, ogstd)
    BUILD_FLAGS_OPTIMIZE=-Og
  else ifeq (${IN_OPT}, oglto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-Og -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, osstd)
    BUILD_FLAGS_OPTIMIZE=-Os --specs=nano.specs
  else ifeq (${IN_OPT}, oslto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-Os -flto -fno-fat-lto-objects --specs=nano.specs
  endif
  ifeq (${IN_KEYS}, en-us)
    BUILD_KEYLAYOUT=US_ENGLISH
  else ifeq (${IN_KEYS}, fr-ca)
    BUILD_KEYLAYOUT=CANADIAN_FRENCH
  else ifeq (${IN_KEYS}, xx-ca)
    BUILD_KEYLAYOUT=CANADIAN_MULTILINGUAL
  else ifeq (${IN_KEYS}, cz-cz)
    BUILD_KEYLAYOUT=CZECH
  else ifeq (${IN_KEYS}, da-da)
    BUILD_KEYLAYOUT=DANISH
  else ifeq (${IN_KEYS}, fi-fi)
    BUILD_KEYLAYOUT=FINNISH
  else ifeq (${IN_KEYS}, fr-fr)
    BUILD_KEYLAYOUT=FRENCH
  else ifeq (${IN_KEYS}, fr-be)
    BUILD_KEYLAYOUT=FRENCH_BELGIAN
  else ifeq (${IN_KEYS}, fr-ch)
    BUILD_KEYLAYOUT=FRENCH_SWISS
  else ifeq (${IN_KEYS}, de-de)
    BUILD_KEYLAYOUT=GERMAN
  else ifeq (${IN_KEYS}, de-dm)
    BUILD_KEYLAYOUT=GERMAN_MAC
  else ifeq (${IN_KEYS}, de-ch)
    BUILD_KEYLAYOUT=GERMAN_SWISS
  else ifeq (${IN_KEYS}, is-is)
    BUILD_KEYLAYOUT=ICELANDIC
  else ifeq (${IN_KEYS}, en-ie)
    BUILD_KEYLAYOUT=IRISH
  else ifeq (${IN_KEYS}, it-it)
    BUILD_KEYLAYOUT=ITALIAN
  else ifeq (${IN_KEYS}, no-no)
    BUILD_KEYLAYOUT=NORWEGIAN
  else ifeq (${IN_KEYS}, pt-pt)
    BUILD_KEYLAYOUT=PORTUGUESE
  else ifeq (${IN_KEYS}, pt-br)
    BUILD_KEYLAYOUT=PORTUGUESE_BRAZILIAN
  else ifeq (${IN_KEYS}, rs-rs)
    BUILD_KEYLAYOUT=SERBIAN_LATIN_ONLY
  else ifeq (${IN_KEYS}, es-es)
    BUILD_KEYLAYOUT=SPANISH
  else ifeq (${IN_KEYS}, es-mx)
    BUILD_KEYLAYOUT=SPANISH_LATIN_AMERICA
  else ifeq (${IN_KEYS}, sv-se)
    BUILD_KEYLAYOUT=SWEDISH
  else ifeq (${IN_KEYS}, tr-tr)
    BUILD_KEYLAYOUT=TURKISH
  else ifeq (${IN_KEYS}, en-gb)
    BUILD_KEYLAYOUT=UNITED_KINGDOM
  else ifeq (${IN_KEYS}, usint)
    BUILD_KEYLAYOUT=US_INTERNATIONAL
  endif
else ifeq (${BOARD_NAME}, teensyLC)
  SERIAL_RESTART_CMD=false
  BUILD_FLAGS_LIBS=-larm_cortexM0l_math -lm -lstdc++
  BUILD_FLAGS_S=-x assembler-with-cpp
  BUILD_FLAGS_CPP=-fno-exceptions -fpermissive -felide-constructors -std=gnu++14 -Wno-error=narrowing -fno-rtti
  BUILD_FLAGS_DEFS=-D__MKL26Z64__ -DTEENSYDUINO=158
  BUILD_FLAGS_CPU=-mthumb -mcpu=cortex-m0plus -fsingle-precision-constant
  BUILD_FLAGS_DEP=-MMD
  BUILD_FLAGS_COMMON=-g -Wall -ffunction-sections -fdata-sections -nostdlib -mno-unaligned-access
  BUILD_COMMAND_SIZE=arm-none-eabi-size
  BUILD_COMMAND_LINKER=arm-none-eabi-gcc
  BUILD_COMMAND_OBJDUMP=arm-none-eabi-objdump
  BUILD_COMMAND_OBJCOPY=arm-none-eabi-objcopy
  BUILD_COMMAND_AR=arm-none-eabi-gcc-ar
  BUILD_COMMAND_G__=arm-none-eabi-g++
  BUILD_COMMAND_GCC=arm-none-eabi-gcc
  BUILD_TOOLCHAIN=arm/bin/
  BUILD_WARN_DATA_PERCENTAGE=88
  BUILD_MCU=mkl26z64
  BUILD_CORE=teensy3
  BUILD_BOARD=TEENSYLC
  UPLOAD_PORT_MODELID=0x20
  UPLOAD_PROTOCOL=teensy
  UPLOAD_TOOL=teensyloader
  UPLOAD_TOOL_TEENSY=teensyloader
  UPLOAD_TOOL_DEFAULT=teensyloader
  UPLOAD_MAXIMUM_DATA_SIZE=8192
  UPLOAD_MAXIMUM_SIZE=63488
  NAME=Teensy LC
  ifeq (${IN_USB}, serial)
    UPLOAD_PORT_USBTYPE=USB_SERIAL
    BUILD_USBTYPE=USB_SERIAL
  else ifeq (${IN_USB}, serial2)
    UPLOAD_PORT_USBTYPE=USB_DUAL_SERIAL
    BUILD_USBTYPE=USB_DUAL_SERIAL
  else ifeq (${IN_USB}, serial3)
    UPLOAD_PORT_USBTYPE=USB_TRIPLE_SERIAL
    BUILD_USBTYPE=USB_TRIPLE_SERIAL
  else ifeq (${IN_USB}, keyboard)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_KEYBOARDONLY
    BUILD_USBTYPE=USB_KEYBOARDONLY
  else ifeq (${IN_USB}, hid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_HID
    BUILD_USBTYPE=USB_HID
  else ifeq (${IN_USB}, serialhid)
    UPLOAD_PORT_USBTYPE=USB_SERIAL_HID
    BUILD_USBTYPE=USB_SERIAL_HID
  else ifeq (${IN_USB}, touch)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_TOUCHSCREEN
    BUILD_USBTYPE=USB_TOUCHSCREEN
  else ifeq (${IN_USB}, midi)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI
    BUILD_USBTYPE=USB_MIDI
  else ifeq (${IN_USB}, midi4)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI4
    BUILD_USBTYPE=USB_MIDI4
  else ifeq (${IN_USB}, serialmidi)
    UPLOAD_PORT_USBTYPE=USB_MIDI_SERIAL
    BUILD_USBTYPE=USB_MIDI_SERIAL
  else ifeq (${IN_USB}, serialmidi4)
    UPLOAD_PORT_USBTYPE=USB_MIDI4_SERIAL
    BUILD_USBTYPE=USB_MIDI4_SERIAL
  else ifeq (${IN_USB}, mtp)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MTPDISK
    BUILD_USBTYPE=USB_MTPDISK
  else ifeq (${IN_USB}, rawhid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_RAWHID
    BUILD_USBTYPE=USB_RAWHID
  else ifeq (${IN_USB}, flightsim)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_FLIGHTSIM
    BUILD_USBTYPE=USB_FLIGHTSIM
  else ifeq (${IN_USB}, disable)
    BUILD_USBTYPE=USB_DISABLED
  endif
  ifeq (${IN_SPEED}, 48)
    BUILD_FCPU=48000000
  else ifeq (${IN_SPEED}, 24)
    BUILD_FCPU=24000000
  endif
  ifeq (${IN_OPT}, osstd)
    BUILD_FLAGS_OPTIMIZE=-Os --specs=nano.specs
  else ifeq (${IN_OPT}, oslto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-Os -flto -fno-fat-lto-objects --specs=nano.specs
  else ifeq (${IN_OPT}, ogstd)
    BUILD_FLAGS_OPTIMIZE=-Og
  else ifeq (${IN_OPT}, oglto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-Og -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, o3std)
    BUILD_FLAGS_OPTIMIZE=-O3
  else ifeq (${IN_OPT}, o3lto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-O3 -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, o2std)
    BUILD_FLAGS_OPTIMIZE=-O2
  else ifeq (${IN_OPT}, o2lto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-O2 -flto -fno-fat-lto-objects
  else ifeq (${IN_OPT}, o1std)
    BUILD_FLAGS_OPTIMIZE=-O1
  else ifeq (${IN_OPT}, o1lto)
    BUILD_FLAGS_LDSPECS=-fuse-linker-plugin
    BUILD_FLAGS_OPTIMIZE=-O1 -flto -fno-fat-lto-objects
  endif
  ifeq (${IN_KEYS}, en-us)
    BUILD_KEYLAYOUT=US_ENGLISH
  else ifeq (${IN_KEYS}, fr-ca)
    BUILD_KEYLAYOUT=CANADIAN_FRENCH
  else ifeq (${IN_KEYS}, xx-ca)
    BUILD_KEYLAYOUT=CANADIAN_MULTILINGUAL
  else ifeq (${IN_KEYS}, cz-cz)
    BUILD_KEYLAYOUT=CZECH
  else ifeq (${IN_KEYS}, da-da)
    BUILD_KEYLAYOUT=DANISH
  else ifeq (${IN_KEYS}, fi-fi)
    BUILD_KEYLAYOUT=FINNISH
  else ifeq (${IN_KEYS}, fr-fr)
    BUILD_KEYLAYOUT=FRENCH
  else ifeq (${IN_KEYS}, fr-be)
    BUILD_KEYLAYOUT=FRENCH_BELGIAN
  else ifeq (${IN_KEYS}, fr-ch)
    BUILD_KEYLAYOUT=FRENCH_SWISS
  else ifeq (${IN_KEYS}, de-de)
    BUILD_KEYLAYOUT=GERMAN
  else ifeq (${IN_KEYS}, de-dm)
    BUILD_KEYLAYOUT=GERMAN_MAC
  else ifeq (${IN_KEYS}, de-ch)
    BUILD_KEYLAYOUT=GERMAN_SWISS
  else ifeq (${IN_KEYS}, is-is)
    BUILD_KEYLAYOUT=ICELANDIC
  else ifeq (${IN_KEYS}, en-ie)
    BUILD_KEYLAYOUT=IRISH
  else ifeq (${IN_KEYS}, it-it)
    BUILD_KEYLAYOUT=ITALIAN
  else ifeq (${IN_KEYS}, no-no)
    BUILD_KEYLAYOUT=NORWEGIAN
  else ifeq (${IN_KEYS}, pt-pt)
    BUILD_KEYLAYOUT=PORTUGUESE
  else ifeq (${IN_KEYS}, pt-br)
    BUILD_KEYLAYOUT=PORTUGUESE_BRAZILIAN
  else ifeq (${IN_KEYS}, rs-rs)
    BUILD_KEYLAYOUT=SERBIAN_LATIN_ONLY
  else ifeq (${IN_KEYS}, es-es)
    BUILD_KEYLAYOUT=SPANISH
  else ifeq (${IN_KEYS}, es-mx)
    BUILD_KEYLAYOUT=SPANISH_LATIN_AMERICA
  else ifeq (${IN_KEYS}, sv-se)
    BUILD_KEYLAYOUT=SWEDISH
  else ifeq (${IN_KEYS}, tr-tr)
    BUILD_KEYLAYOUT=TURKISH
  else ifeq (${IN_KEYS}, en-gb)
    BUILD_KEYLAYOUT=UNITED_KINGDOM
  else ifeq (${IN_KEYS}, usint)
    BUILD_KEYLAYOUT=US_INTERNATIONAL
  endif
else ifeq (${BOARD_NAME}, teensypp2)
  SERIAL_RESTART_CMD=true
  BUILD_SERIAL_NUMBER=true
  BUILD_FLAGS_LIBS=-lm
  BUILD_FLAGS_LD=-Wl,--gc-sections,--relax
  BUILD_FLAGS_S=-x assembler-with-cpp
  BUILD_FLAGS_CPP=-fno-exceptions -fpermissive -felide-constructors -std=gnu++11
  BUILD_FLAGS_DEFS=-DTEENSYDUINO=158 -DARDUINO_ARCH_AVR
  BUILD_FLAGS_CPU=-mmcu=at90usb1286
  BUILD_FLAGS_OPTIMIZE=-Os
  BUILD_FLAGS_DEP=-MMD
  BUILD_FLAGS_COMMON=-g -Wall -ffunction-sections -fdata-sections
  BUILD_COMMAND_SIZE=avr-size
  BUILD_COMMAND_LINKER=avr-gcc
  BUILD_COMMAND_OBJDUMP=avr-objdump
  BUILD_COMMAND_OBJCOPY=avr-objcopy
  BUILD_COMMAND_AR=avr-ar
  BUILD_COMMAND_G__=avr-g++
  BUILD_COMMAND_GCC=avr-gcc
  BUILD_TOOLCHAIN=avr/bin/
  BUILD_WARN_DATA_PERCENTAGE=94
  BUILD_MCU=at90usb1286
  BUILD_CORE=teensy
  BUILD_BOARD=TEENSY2PP
  UPLOAD_PORT_MODELID=0x1C
  UPLOAD_PROTOCOL=teensy
  UPLOAD_TOOL=teensyloader
  UPLOAD_TOOL_TEENSY=teensyloader
  UPLOAD_TOOL_DEFAULT=teensyloader
  UPLOAD_MAXIMUM_DATA_SIZE=8192
  UPLOAD_MAXIMUM_SIZE=130048
  NAME=Teensy++ 2.0
  ifeq (${IN_USB}, serial)
    UPLOAD_PORT_USBTYPE=USB_SERIAL
    BUILD_USBTYPE=USB_SERIAL
  else ifeq (${IN_USB}, hid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_HID
    BUILD_USBTYPE=USB_HID
  else ifeq (${IN_USB}, serialhid)
    UPLOAD_PORT_USBTYPE=USB_SERIAL_HID
    BUILD_USBTYPE=USB_SERIAL_HID
  else ifeq (${IN_USB}, int_disk)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_DISK
    BUILD_ELFPATCH=mktinyfat
    BUILD_USBTYPE=USB_DISK
  else ifeq (${IN_USB}, sd_disk)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_DISK_SDFLASH
    BUILD_USBTYPE=USB_DISK_SDFLASH
  else ifeq (${IN_USB}, midi)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI
    BUILD_USBTYPE=USB_MIDI
  else ifeq (${IN_USB}, rawhid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_RAWHID
    BUILD_USBTYPE=USB_RAWHID
  else ifeq (${IN_USB}, flightsim)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_FLIGHTSIM
    BUILD_USBTYPE=USB_FLIGHTSIM
  endif
  ifeq (${IN_SPEED}, 16)
    BUILD_FCPU=16000000L
  else ifeq (${IN_SPEED}, 8)
    BUILD_FCPU=8000000L
  else ifeq (${IN_SPEED}, 4)
    BUILD_FCPU=4000000L
  else ifeq (${IN_SPEED}, 2)
    BUILD_FCPU=2000000L
  else ifeq (${IN_SPEED}, 1)
    BUILD_FCPU=1000000L
  endif
  ifeq (${IN_KEYS}, en-us)
    BUILD_KEYLAYOUT=US_ENGLISH
  else ifeq (${IN_KEYS}, fr-ca)
    BUILD_KEYLAYOUT=CANADIAN_FRENCH
  else ifeq (${IN_KEYS}, xx-ca)
    BUILD_KEYLAYOUT=CANADIAN_MULTILINGUAL
  else ifeq (${IN_KEYS}, cz-cz)
    BUILD_KEYLAYOUT=CZECH
  else ifeq (${IN_KEYS}, da-da)
    BUILD_KEYLAYOUT=DANISH
  else ifeq (${IN_KEYS}, fi-fi)
    BUILD_KEYLAYOUT=FINNISH
  else ifeq (${IN_KEYS}, fr-fr)
    BUILD_KEYLAYOUT=FRENCH
  else ifeq (${IN_KEYS}, fr-be)
    BUILD_KEYLAYOUT=FRENCH_BELGIAN
  else ifeq (${IN_KEYS}, fr-ch)
    BUILD_KEYLAYOUT=FRENCH_SWISS
  else ifeq (${IN_KEYS}, de-de)
    BUILD_KEYLAYOUT=GERMAN
  else ifeq (${IN_KEYS}, de-dm)
    BUILD_KEYLAYOUT=GERMAN_MAC
  else ifeq (${IN_KEYS}, de-ch)
    BUILD_KEYLAYOUT=GERMAN_SWISS
  else ifeq (${IN_KEYS}, is-is)
    BUILD_KEYLAYOUT=ICELANDIC
  else ifeq (${IN_KEYS}, en-ie)
    BUILD_KEYLAYOUT=IRISH
  else ifeq (${IN_KEYS}, it-it)
    BUILD_KEYLAYOUT=ITALIAN
  else ifeq (${IN_KEYS}, no-no)
    BUILD_KEYLAYOUT=NORWEGIAN
  else ifeq (${IN_KEYS}, pt-pt)
    BUILD_KEYLAYOUT=PORTUGUESE
  else ifeq (${IN_KEYS}, pt-br)
    BUILD_KEYLAYOUT=PORTUGUESE_BRAZILIAN
  else ifeq (${IN_KEYS}, rs-rs)
    BUILD_KEYLAYOUT=SERBIAN_LATIN_ONLY
  else ifeq (${IN_KEYS}, es-es)
    BUILD_KEYLAYOUT=SPANISH
  else ifeq (${IN_KEYS}, es-mx)
    BUILD_KEYLAYOUT=SPANISH_LATIN_AMERICA
  else ifeq (${IN_KEYS}, sv-se)
    BUILD_KEYLAYOUT=SWEDISH
  else ifeq (${IN_KEYS}, tr-tr)
    BUILD_KEYLAYOUT=TURKISH
  else ifeq (${IN_KEYS}, en-gb)
    BUILD_KEYLAYOUT=UNITED_KINGDOM
  else ifeq (${IN_KEYS}, usint)
    BUILD_KEYLAYOUT=US_INTERNATIONAL
  endif
else ifeq (${BOARD_NAME}, teensy2)
  SERIAL_RESTART_CMD=true
  BUILD_SERIAL_NUMBER=true
  BUILD_FLAGS_LIBS=-lm
  BUILD_FLAGS_LD=-Wl,--gc-sections,--relax
  BUILD_FLAGS_S=-x assembler-with-cpp
  BUILD_FLAGS_CPP=-fno-exceptions -fpermissive -felide-constructors -std=gnu++11
  BUILD_FLAGS_DEFS=-DTEENSYDUINO=158 -DARDUINO_ARCH_AVR
  BUILD_FLAGS_CPU=-mmcu=atmega32u4
  BUILD_FLAGS_OPTIMIZE=-Os
  BUILD_FLAGS_DEP=-MMD
  BUILD_FLAGS_COMMON=-g -Wall -ffunction-sections -fdata-sections
  BUILD_COMMAND_SIZE=avr-size
  BUILD_COMMAND_LINKER=avr-gcc
  BUILD_COMMAND_OBJDUMP=avr-objdump
  BUILD_COMMAND_OBJCOPY=avr-objcopy
  BUILD_COMMAND_AR=avr-ar
  BUILD_COMMAND_G__=avr-g++
  BUILD_COMMAND_GCC=avr-gcc
  BUILD_TOOLCHAIN=avr/bin/
  BUILD_WARN_DATA_PERCENTAGE=80
  BUILD_MCU=atmega32u4
  BUILD_CORE=teensy
  BUILD_BOARD=TEENSY2
  UPLOAD_PORT_MODELID=0x1B
  UPLOAD_PROTOCOL=teensy
  UPLOAD_TOOL=teensyloader
  UPLOAD_TOOL_TEENSY=teensyloader
  UPLOAD_TOOL_DEFAULT=teensyloader
  UPLOAD_MAXIMUM_DATA_SIZE=2560
  UPLOAD_MAXIMUM_SIZE=32256
  NAME=Teensy 2.0
  ifeq (${IN_USB}, serial)
    UPLOAD_PORT_USBTYPE=USB_SERIAL
    BUILD_USBTYPE=USB_SERIAL
  else ifeq (${IN_USB}, hid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_HID
    BUILD_USBTYPE=USB_HID
  else ifeq (${IN_USB}, serialhid)
    UPLOAD_PORT_USBTYPE=USB_SERIAL_HID
    BUILD_USBTYPE=USB_SERIAL_HID
  else ifeq (${IN_USB}, int_disk)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_DISK
    BUILD_ELFPATCH=mktinyfat
    BUILD_USBTYPE=USB_DISK
  else ifeq (${IN_USB}, sd_disk)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_DISK_SDFLASH
    BUILD_USBTYPE=USB_DISK_SDFLASH
  else ifeq (${IN_USB}, midi)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_MIDI
    BUILD_USBTYPE=USB_MIDI
  else ifeq (${IN_USB}, rawhid)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_RAWHID
    BUILD_USBTYPE=USB_RAWHID
  else ifeq (${IN_USB}, flightsim)
    FAKE_SERIAL=teensy_gateway
    UPLOAD_PORT_USBTYPE=USB_FLIGHTSIM
    BUILD_USBTYPE=USB_FLIGHTSIM
  endif
  ifeq (${IN_SPEED}, 16)
    BUILD_FCPU=16000000L
  else ifeq (${IN_SPEED}, 8)
    BUILD_FCPU=8000000L
  else ifeq (${IN_SPEED}, 4)
    BUILD_FCPU=4000000L
  else ifeq (${IN_SPEED}, 2)
    BUILD_FCPU=2000000L
  else ifeq (${IN_SPEED}, 1)
    BUILD_FCPU=1000000L
  endif
  ifeq (${IN_KEYS}, en-us)
    BUILD_KEYLAYOUT=US_ENGLISH
  else ifeq (${IN_KEYS}, fr-ca)
    BUILD_KEYLAYOUT=CANADIAN_FRENCH
  else ifeq (${IN_KEYS}, xx-ca)
    BUILD_KEYLAYOUT=CANADIAN_MULTILINGUAL
  else ifeq (${IN_KEYS}, cz-cz)
    BUILD_KEYLAYOUT=CZECH
  else ifeq (${IN_KEYS}, da-da)
    BUILD_KEYLAYOUT=DANISH
  else ifeq (${IN_KEYS}, fi-fi)
    BUILD_KEYLAYOUT=FINNISH
  else ifeq (${IN_KEYS}, fr-fr)
    BUILD_KEYLAYOUT=FRENCH
  else ifeq (${IN_KEYS}, fr-be)
    BUILD_KEYLAYOUT=FRENCH_BELGIAN
  else ifeq (${IN_KEYS}, fr-ch)
    BUILD_KEYLAYOUT=FRENCH_SWISS
  else ifeq (${IN_KEYS}, de-de)
    BUILD_KEYLAYOUT=GERMAN
  else ifeq (${IN_KEYS}, de-dm)
    BUILD_KEYLAYOUT=GERMAN_MAC
  else ifeq (${IN_KEYS}, de-ch)
    BUILD_KEYLAYOUT=GERMAN_SWISS
  else ifeq (${IN_KEYS}, is-is)
    BUILD_KEYLAYOUT=ICELANDIC
  else ifeq (${IN_KEYS}, en-ie)
    BUILD_KEYLAYOUT=IRISH
  else ifeq (${IN_KEYS}, it-it)
    BUILD_KEYLAYOUT=ITALIAN
  else ifeq (${IN_KEYS}, no-no)
    BUILD_KEYLAYOUT=NORWEGIAN
  else ifeq (${IN_KEYS}, pt-pt)
    BUILD_KEYLAYOUT=PORTUGUESE
  else ifeq (${IN_KEYS}, pt-br)
    BUILD_KEYLAYOUT=PORTUGUESE_BRAZILIAN
  else ifeq (${IN_KEYS}, rs-rs)
    BUILD_KEYLAYOUT=SERBIAN_LATIN_ONLY
  else ifeq (${IN_KEYS}, es-es)
    BUILD_KEYLAYOUT=SPANISH
  else ifeq (${IN_KEYS}, es-mx)
    BUILD_KEYLAYOUT=SPANISH_LATIN_AMERICA
  else ifeq (${IN_KEYS}, sv-se)
    BUILD_KEYLAYOUT=SWEDISH
  else ifeq (${IN_KEYS}, tr-tr)
    BUILD_KEYLAYOUT=TURKISH
  else ifeq (${IN_KEYS}, en-gb)
    BUILD_KEYLAYOUT=UNITED_KINGDOM
  else ifeq (${IN_KEYS}, usint)
    BUILD_KEYLAYOUT=US_INTERNATIONAL
  endif
endif
BUILD_CORE_PATH=${RUNTIME_PLATFORM_PATH}/cores/${BUILD_CORE}
ifeq (${BOARD_NAME}, teensy41)
  BUILD_FLAGS_LD=-Wl,--gc-sections,--relax "-T${BUILD_CORE_PATH}/imxrt1062_t41.ld"
else ifeq (${BOARD_NAME}, teensyMM)
  BUILD_FLAGS_LD=-Wl,--gc-sections,--relax "-T${BUILD_CORE_PATH}/imxrt1062_mm.ld"
else ifeq (${BOARD_NAME}, teensy40)
  BUILD_FLAGS_LD=-Wl,--gc-sections,--relax "-T${BUILD_CORE_PATH}/imxrt1062.ld"
else ifeq (${BOARD_NAME}, teensy36)
  BUILD_FLAGS_LD=-Wl,--gc-sections,--relax,--defsym=__rtc_localtime=${EXTRA_TIME_LOCAL} "-T${BUILD_CORE_PATH}/mk66fx1m0.ld"
else ifeq (${BOARD_NAME}, teensy35)
  BUILD_FLAGS_LD=-Wl,--gc-sections,--relax,--defsym=__rtc_localtime=${EXTRA_TIME_LOCAL} "-T${BUILD_CORE_PATH}/mk64fx512.ld"
else ifeq (${BOARD_NAME}, teensy31)
  BUILD_FLAGS_LD=-Wl,--gc-sections,--relax,--defsym=__rtc_localtime=${EXTRA_TIME_LOCAL} "-T${BUILD_CORE_PATH}/mk20dx256.ld"
else ifeq (${BOARD_NAME}, teensy30)
  BUILD_FLAGS_LD=-Wl,--gc-sections,--relax,--defsym=__rtc_localtime=${EXTRA_TIME_LOCAL} "-T${BUILD_CORE_PATH}/mk20dx128.ld"
else ifeq (${BOARD_NAME}, teensyLC)
  BUILD_FLAGS_LD=-Wl,--gc-sections,--relax,--defsym=__rtc_localtime=${EXTRA_TIME_LOCAL} "-T${BUILD_CORE_PATH}/mkl26z64.ld"
endif
PLUGGABLE_MONITOR_REQUIRED_TEENSY=teensy:teensy-monitor
PLUGGABLE_DISCOVERY_REQUIRED=teensy:teensy-discovery
DISCOVERY_TEENSY_PATTERN="${RUNTIME_TOOLS_TEENSY_TOOLS_PATH}/teensy_ports" -J2
TEENSYTOOLS_PATH=${RUNTIME_TOOLS_TEENSY_TOOLS_PATH}/
COMPILER_ELF2HEX_FLAGS=-O ihex -R .eeprom
COMPILER_OBJCOPY_EEP_FLAGS=-O ihex -j .eeprom --set-section-flags=.eeprom=alloc,load --no-change-warnings --change-section-lma .eeprom=0
COMPILER_PATH=${RUNTIME_TOOLS_TEENSY_COMPILE_PATH}/
REWRITING=disabled
VERSION=1.8.5
NAME=Teensyduino
ifeq (${UPLOAD_USE_1200BPS_TOUCH}, true)
  UPLOAD_EXTRA_FLAGS=--touch 1200
endif
ifeq (${UPLOAD_TOOL}, teensyloader)
  UPLOAD_PATTERN="${CMD_PATH}/teensy_post_compile" "-file=${BUILD_PROJECT_NAME}" "-path=$(abspath ${BUILD_PATH})" "-tools=${CMD_PATH}" "-board=${BUILD_BOARD}" -reboot "-port=${SERIAL_PORT}" "-portlabel=${SERIAL_PORT_LABEL}" "-portprotocol=${SERIAL_PORT_PROTOCOL}"
endif
ifeq (${BUILD_CORE}, teensy4)
  C_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/cores/teensy4/analog.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/bootdata.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/clockspeed.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/debugprintf.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/delay.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/digital.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/eeprom.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/extmem.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/fuse.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/interrupt.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/keylayouts.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/libc.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/nonstd.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/pwm.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/rtc.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/sm_alloc_valid.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/sm_calloc.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/sm_free.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/sm_hash.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/sm_malloc.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/sm_malloc_stats.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/sm_pool.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/sm_realloc.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/sm_realloc_i.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/sm_realloc_move.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/sm_szalloc.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/sm_util.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/sm_zalloc.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/startup.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/tempmon.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/usb.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/usb_desc.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/usb_joystick.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/usb_keyboard.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/usb_midi.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/usb_mouse.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/usb_mtp.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/usb_rawhid.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/usb_seremu.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/usb_serial.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/usb_serial2.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/usb_serial3.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/usb_touch.c
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/cores/teensy4/AudioStream.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/CrashReport.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/DMAChannel.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/EventResponder.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/HardwareSerial.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/HardwareSerial1.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/HardwareSerial2.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/HardwareSerial3.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/HardwareSerial4.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/HardwareSerial5.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/HardwareSerial6.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/HardwareSerial7.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/HardwareSerial8.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/IntervalTimer.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/IPAddress.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/main.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/new.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/Print.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/serialEvent.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/serialEvent1.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/serialEvent2.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/serialEvent3.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/serialEvent4.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/serialEvent5.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/serialEvent6.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/serialEvent7.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/serialEvent8.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/serialEventUSB1.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/serialEventUSB2.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/Stream.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/Time.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/Tone.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/usb_audio.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/usb_flightsim.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/usb_inst.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/WMath.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/WString.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/yield.cpp
  S_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/cores/teensy4/memcpy-armv7m.S \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy4/memset.S
  SYS_INCLUDES+= -I${RUNTIME_PLATFORM_PATH}/cores/teensy4
  VPATH_CORE+=${RUNTIME_PLATFORM_PATH}/cores/teensy4
else ifeq (${BUILD_CORE}, teensy3)
  C_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/cores/teensy3/analog.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/eeprom.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/keylayouts.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/math_helper.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/mk20dx128.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/nonstd.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/pins_teensy.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/serial1.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/serial2.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/serial3.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/serial4.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/serial5.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/serial6.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/serial6_lpuart.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/ser_print.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/touch.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/usb_desc.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/usb_dev.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/usb_joystick.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/usb_keyboard.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/usb_mem.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/usb_midi.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/usb_mouse.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/usb_mtp.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/usb_rawhid.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/usb_seremu.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/usb_serial.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/usb_serial2.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/usb_serial3.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/usb_touch.c
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/cores/teensy3/AudioStream.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/avr_emulation.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/CrashReport.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/DMAChannel.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/EventResponder.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/HardwareSerial.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/HardwareSerial1.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/HardwareSerial2.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/HardwareSerial3.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/HardwareSerial4.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/HardwareSerial5.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/HardwareSerial6.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/IntervalTimer.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/IPAddress.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/main.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/new.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/Print.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/serialEvent.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/serialEvent1.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/serialEvent2.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/serialEvent3.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/serialEvent4.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/serialEvent5.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/serialEvent6.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/serialEventUSB1.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/serialEventUSB2.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/Stream.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/Time.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/Tone.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/usb_audio.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/usb_flightsim.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/usb_inst.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/WMath.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/WString.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/yield.cpp
  S_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/cores/teensy3/memcpy-armv7m.S \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy3/memset.S
  SYS_INCLUDES+= -I${RUNTIME_PLATFORM_PATH}/cores/teensy3
  VPATH_CORE+=${RUNTIME_PLATFORM_PATH}/cores/teensy3
else ifeq (${BUILD_CORE}, teensy)
  C_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/cores/teensy/keylayouts.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy/malloc.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy/pins_teensy.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy/usb.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy/WInterrupts.c \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy/wiring.c
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/cores/teensy/CrashReport.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy/HardwareSerial.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy/IPAddress.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy/main.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy/new.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy/Print.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy/Stream.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy/Time.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy/Tone.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy/usb_api.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy/WMath.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy/WString.cpp \
    ${RUNTIME_PLATFORM_PATH}/cores/teensy/yield.cpp
  SYS_INCLUDES+= -I${RUNTIME_PLATFORM_PATH}/cores/teensy
  VPATH_CORE+=${RUNTIME_PLATFORM_PATH}/cores/teensy
endif
ifdef LIB_ACCELSTEPPER
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/AccelStepper/src/AccelStepper.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/AccelStepper/src/MultiStepper.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/AccelStepper/src
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/AccelStepper/src
endif
ifdef LIB_ADAFRUIT_NEOPIXEL
  C_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Adafruit_NeoPixel/esp8266.c
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Adafruit_NeoPixel/Adafruit_NeoPixel.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Adafruit_NeoPixel
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Adafruit_NeoPixel
endif
ifdef LIB_ADAFRUIT_NRF8001
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Adafruit_nRF8001/Adafruit_BLE_UART.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Adafruit_nRF8001
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Adafruit_nRF8001
endif
ifdef LIB_ADAFRUIT_STMPE610
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Adafruit_STMPE610/Adafruit_STMPE610.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Adafruit_STMPE610
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Adafruit_STMPE610
endif
ifdef LIB_ADAFRUIT_VS1053
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Adafruit_VS1053/Adafruit_VS1053.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Adafruit_VS1053
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Adafruit_VS1053
endif
ifdef LIB_ADC
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/ADC/ADC.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/ADC/ADC_Module.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/ADC/AnalogBufferDMA.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/ADC
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/ADC
endif
ifdef LIB_ALTSOFTSERIAL
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/AltSoftSerial/AltSoftSerial.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/AltSoftSerial
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/AltSoftSerial
endif
ifdef LIB_ARTNET
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Artnet/Artnet.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Artnet
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Artnet
endif
ifdef LIB_AUDIO
  C_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Audio/data_bandlimit_step.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/data_spdif.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/data_ulaw.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/data_waveforms.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/data_windows.c
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Audio/analyze_fft1024.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/analyze_fft256.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/analyze_notefreq.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/analyze_peak.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/analyze_print.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/analyze_rms.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/analyze_tonedetect.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/async_input_spdif3.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/control_ak4558.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/control_cs42448.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/control_cs4272.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/control_sgtl5000.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/control_tlv320aic3206.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/control_wm8731.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/effect_bitcrusher.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/effect_chorus.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/effect_combine.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/effect_delay.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/effect_delay_ext.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/effect_envelope.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/effect_fade.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/effect_flange.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/effect_freeverb.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/effect_granular.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/effect_midside.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/effect_multiply.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/effect_rectifier.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/effect_reverb.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/effect_wavefolder.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/effect_waveshaper.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/filter_biquad.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/filter_fir.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/filter_ladder.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/filter_variable.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/input_adc.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/input_adcs.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/input_i2s.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/input_i2s2.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/input_i2s_hex.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/input_i2s_oct.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/input_i2s_quad.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/input_pdm.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/input_pdm_i2s2.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/input_spdif3.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/input_tdm.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/input_tdm2.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/mixer.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/output_adat.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/output_dac.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/output_dacs.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/output_i2s.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/output_i2s2.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/output_i2s_hex.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/output_i2s_oct.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/output_i2s_quad.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/output_mqs.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/output_pt8211.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/output_pt8211_2.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/output_pwm.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/output_spdif.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/output_spdif2.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/output_spdif3.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/output_tdm.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/output_tdm2.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/play_memory.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/play_queue.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/play_sd_raw.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/play_sd_wav.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/play_serialflash_raw.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/Quantizer.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/record_queue.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/Resampler.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/spi_interrupt.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/synth_dc.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/synth_karplusstrong.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/synth_pinknoise.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/synth_pwm.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/synth_simple_drum.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/synth_sine.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/synth_tonesweep.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/synth_waveform.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/synth_wavetable.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Audio/synth_whitenoise.cpp
  S_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Audio/memcpy_audio.S
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Audio
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Audio
endif
ifdef LIB_BOUNCE
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Bounce/Bounce.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Bounce
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Bounce
endif
ifdef LIB_BOUNCE2
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Bounce2/src/Bounce2.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Bounce2/src
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Bounce2/src
endif
ifdef LIB_CAPACITIVESENSOR
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/CapacitiveSensor/CapacitiveSensor.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/CapacitiveSensor
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/CapacitiveSensor
endif
ifdef LIB_CRYPTOACCEL
  S_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/CryptoAccel/src/mmcau_aes_functions.S \
    ${RUNTIME_PLATFORM_PATH}/libraries/CryptoAccel/src/mmcau_des_functions.S \
    ${RUNTIME_PLATFORM_PATH}/libraries/CryptoAccel/src/mmcau_md5_functions.S \
    ${RUNTIME_PLATFORM_PATH}/libraries/CryptoAccel/src/mmcau_sha1_functions.S \
    ${RUNTIME_PLATFORM_PATH}/libraries/CryptoAccel/src/mmcau_sha256_functions.S
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/CryptoAccel/src
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/CryptoAccel/src
endif
ifdef LIB_DMXSIMPLE
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/DmxSimple/DmxSimple.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/DmxSimple
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/DmxSimple
endif
ifdef LIB_DOGLCD
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/DogLcd/DogLcd.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/DogLcd
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/DogLcd
endif
ifdef LIB_DS1307RTC
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/DS1307RTC/DS1307RTC.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/DS1307RTC
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/DS1307RTC
endif
ifdef LIB_EASYTRANSFER
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/EasyTransfer/src/EasyTransfer.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/EasyTransfer/src
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/EasyTransfer/src
endif
ifdef LIB_EASYTRANSFERI2C
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/EasyTransferI2C/src/EasyTransferI2C.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/EasyTransferI2C/src
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/EasyTransferI2C/src
endif
ifdef LIB_EEPROM
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/EEPROM/EEPROM.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/EEPROM
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/EEPROM
endif
ifdef LIB_ENCODER
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Encoder/Encoder.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Encoder
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Encoder
endif
ifdef LIB_ENTROPY
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Entropy/Entropy.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Entropy
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Entropy
endif
ifdef LIB_ETHERNET
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Ethernet/src/Dhcp.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Ethernet/src/Dns.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Ethernet/src/Ethernet.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Ethernet/src/EthernetClient.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Ethernet/src/EthernetServer.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Ethernet/src/EthernetUdp.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Ethernet/src/socket.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Ethernet/src/utility/w5100.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Ethernet/src \
    -I${RUNTIME_PLATFORM_PATH}/libraries/Ethernet/src/utility
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Ethernet/src ${RUNTIME_PLATFORM_PATH}/libraries/Ethernet/src/utility
endif
ifdef LIB_FASTCRC
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/FastCRC/FastCRChw.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/FastCRC/FastCRCsw.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/FastCRC
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/FastCRC
endif
ifdef LIB_FASTLED
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/bitswap.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/colorpalettes.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/colorutils.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/FastLED.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/hsv2rgb.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/lib8tion.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/noise.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms/esp/32/clockless_rmt_esp32.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/power_mgt.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/wiring.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/lib8tion \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms/apollo3 \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms/arm/common \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms/arm/d21 \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms/arm/d51 \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms/arm/k20 \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms/arm/k66 \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms/arm/kl26 \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms/arm/mxrt1062 \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms/arm/nrf51 \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms/arm/nrf52 \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms/arm/sam \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms/arm/stm32 \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms/avr \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms/esp/32 \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms/esp/8266 \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src ${RUNTIME_PLATFORM_PATH}/libraries/FastLED/src/platforms/esp/32
endif
ifdef LIB_FLEXCAN
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/FlexCAN/FlexCAN.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/FlexCAN
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/FlexCAN
endif
ifdef LIB_FLEXCAN_T4
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/FlexCAN_T4
endif
ifdef LIB_FLEXIO_T4
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/FlexIO_t4/src/FlexIOSPI.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/FlexIO_t4/src/FlexIO_t4.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/FlexIO_t4/src/FlexSerial.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/FlexIO_t4/src
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/FlexIO_t4/src
endif
ifdef LIB_FLEXITIMER2
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/FlexiTimer2/FlexiTimer2.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/FlexiTimer2
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/FlexiTimer2
endif
ifdef LIB_FNET
  C_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port/cpu/fnet_cpu.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port/cpu/mimxrt/fnet_mimxrt.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port/cpu/mimxrt/fnet_mimxrt_eth.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port/cpu/mimxrt/fnet_mimxrt_isr.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port/cpu/mimxrt/fnet_mimxrt_isr_inst.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port/cpu/mimxrt/fnet_mimxrt_serial.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port/fnet_usb.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port/fnet_usb_config.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port/netif/fec/fnet_fec.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/autoip/fnet_autoip.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/azure/fnet_azure_lock.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/azure/fnet_azure_platform.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/azure/fnet_azure_socketio.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/azure/fnet_azure_threadapi.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/azure/fnet_azure_tickcounter.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/azure/fnet_azure_tlsio.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/azure/fnet_azure_tlsio_socketio.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/bench/fnet_bench_cln.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/bench/fnet_bench_srv.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/dhcp/fnet_dhcp.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/dhcp/fnet_dhcp_cln.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/dhcp/fnet_dhcp_srv.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/dns/fnet_dns.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/flash/fnet_flash.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/fnet_service.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/fs/fnet_fs.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/fs/fnet_fs_rom.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/fs/fnet_fs_root.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/http/fnet_http_cln.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/http/fnet_http_srv.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/http/fnet_http_srv_auth.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/http/fnet_http_srv_cgi.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/http/fnet_http_srv_get.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/http/fnet_http_srv_post.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/http/fnet_http_srv_ssi.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/link/fnet_link.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/llmnr/fnet_llmnr.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/mdns/fnet_mdns.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/ping/fnet_ping.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/serial/fnet_serial.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/shell/fnet_shell.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/sntp/fnet_sntp.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/telnet/fnet_telnet.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/tftp/fnet_tftp_cln.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/tftp/fnet_tftp_srv.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/tls/fnet_tls.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_arp.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_checksum.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_error.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_eth.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_icmp4.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_icmp6.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_igmp.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_inet.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_ip.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_ip4.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_ip6.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_isr.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_loop.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_mempool.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_mld.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_nd6.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_netbuf.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_netif.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_prot.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_raw.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_socket.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_stack.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_stdlib.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_tcp.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_timer.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_udp.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack/fnet_wifi.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/aes.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/aesni.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/arc4.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/aria.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/asn1parse.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/asn1write.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/base64.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/bignum.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/blowfish.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/camellia.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/ccm.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/certs.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/chacha20.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/chachapoly.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/cipher.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/cipher_wrap.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/cmac.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/ctr_drbg.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/debug.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/des.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/dhm.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/ecdh.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/ecdsa.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/ecjpake.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/ecp.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/ecp_curves.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/entropy.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/entropy_poll.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/error.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/gcm.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/havege.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/hkdf.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/hmac_drbg.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/md.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/md2.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/md4.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/md5.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/md_wrap.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/memory_buffer_alloc.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/net_sockets.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/nist_kw.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/oid.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/padlock.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/pem.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/pk.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/pkcs11.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/pkcs12.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/pkcs5.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/pkparse.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/pkwrite.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/pk_wrap.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/platform.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/platform_util.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/poly1305.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/ripemd160.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/rsa.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/rsa_internal.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/sha1.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/sha256.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/sha512.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/ssl_cache.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/ssl_ciphersuites.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/ssl_cli.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/ssl_cookie.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/ssl_srv.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/ssl_ticket.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/ssl_tls.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/threading.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/timing.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/version.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/version_features.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/x509.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/x509write_crt.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/x509write_csr.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/x509_create.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/x509_crl.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/x509_crt.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/x509_csr.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/xtea.c
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port/cpu/mimxrt/fnet_mimxrt_serial.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port/compiler \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port/cpu \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port/cpu/mimxrt \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port/netif/fec \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/autoip \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/azure \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/bench \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/dhcp \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/dns \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/flash \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/fs \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/http \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/link \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/llmnr \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/mdns \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/ping \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/serial \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/shell \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/sntp \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/telnet \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/tftp \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/tls \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/configs \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/doxygen/input \
    -I${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src/mbedtls
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port/cpu ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port/cpu/mimxrt ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/port/netif/fec ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/autoip ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/azure ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/bench ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/dhcp ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/dns ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/flash ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/fs ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/http ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/link ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/llmnr ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/mdns ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/ping ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/serial ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/shell ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/sntp ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/telnet ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/tftp ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/service/tls ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/stack ${RUNTIME_PLATFORM_PATH}/libraries/FNET/src/third_party/mbedtls-2.12.0/src
endif
ifdef LIB_FREQCOUNT
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/FreqCount/FreqCount.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/FreqCount
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/FreqCount
endif
ifdef LIB_FREQMEASURE
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/FreqMeasure/FreqMeasure.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/FreqMeasure
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/FreqMeasure
endif
ifdef LIB_FREQMEASUREMULTI
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/FreqMeasureMulti/FreqMeasureMulti.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/FreqMeasureMulti/FreqMeasureMultiIMXRT.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/FreqMeasureMulti
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/FreqMeasureMulti
endif
ifdef LIB_FREQUENCYTIMER2
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/FrequencyTimer2/FrequencyTimer2.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/FrequencyTimer2
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/FrequencyTimer2
endif
ifdef LIB_I2C_T3
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/i2c_t3/i2c_t3.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/i2c_t3
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/i2c_t3
endif
ifdef LIB_ILI9341_T3
  C_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/ILI9341_t3/font_Arial.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/ILI9341_t3/font_ArialBold.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/ILI9341_t3/glcdfont.c
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/ILI9341_t3/ILI9341_t3.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/ILI9341_t3
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/ILI9341_t3
endif
ifdef LIB_ILI9488_T3
  C_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/ILI9488_t3/src/glcdfont.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/ILI9488_t3/src/ili9488_t3_font_Arial.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/ILI9488_t3/src/ili9488_t3_font_ArialBold.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/ILI9488_t3/src/ili9488_t3_font_ComicSansMS.c
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/ILI9488_t3/src/ILI9488_t3.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/ILI9488_t3/src
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/ILI9488_t3/src
endif
ifdef LIB_IRREMOTE
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/IRremote/src \
    -I${RUNTIME_PLATFORM_PATH}/libraries/IRremote/src/private
endif
ifdef LIB_KEYPAD
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Keypad/src/Key.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Keypad/src/Keypad.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Keypad/src
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Keypad/src
endif
ifdef LIB_KS0108
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/ks0108/ks0108.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/ks0108
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/ks0108
endif
ifdef LIB_LEDCONTROL
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/LedControl/src/LedControl.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/LedControl/src
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/LedControl/src
endif
ifdef LIB_LEDDISPLAY
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/LedDisplay/LedDisplay.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/LedDisplay
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/LedDisplay
endif
ifdef LIB_LIQUIDCRYSTAL
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/LiquidCrystal/src/LiquidCrystal.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/LiquidCrystal/src
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/LiquidCrystal/src
endif
ifdef LIB_LIQUIDCRYSTALFAST
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/LiquidCrystalFast/LiquidCrystalFast.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/LiquidCrystalFast
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/LiquidCrystalFast
endif
ifdef LIB_LITTLEFS
  C_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/LittleFS/src/littlefs/lfs.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/LittleFS/src/littlefs/lfs_util.c
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/LittleFS/src/LittleFS.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/LittleFS/src/LittleFS_NAND.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/LittleFS/src/littlefs \
    -I${RUNTIME_PLATFORM_PATH}/libraries/LittleFS/src
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/LittleFS/src/littlefs ${RUNTIME_PLATFORM_PATH}/libraries/LittleFS/src
endif
ifdef LIB_LOWPOWER
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/LowPower/LowPower.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/LowPower
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/LowPower
endif
ifdef LIB_METRO
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Metro/Metro.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Metro
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Metro
endif
ifdef LIB_MFRC522
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/MFRC522/src/MFRC522.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/MFRC522/src/MFRC522Extended.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/MFRC522/src
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/MFRC522/src
endif
ifdef LIB_MIDI_LIBRARY
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/MIDI/src/MIDI.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/MIDI/src
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/MIDI/src
endif
ifdef LIB_MSTIMER2
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/MsTimer2/MsTimer2.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/MsTimer2
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/MsTimer2
endif
ifdef LIB_NATIVEETHERNET
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/NativeEthernet/src/NativeDns.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/NativeEthernet/src/NativeEthernet.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/NativeEthernet/src/NativeEthernetClient.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/NativeEthernet/src/NativeEthernetServer.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/NativeEthernet/src/NativeEthernetUdp.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/NativeEthernet/src/NativeMdns.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/NativeEthernet/src/Nativesocket.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/NativeEthernet/src \
    -I${RUNTIME_PLATFORM_PATH}/libraries/NativeEthernet/src/utility
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/NativeEthernet/src
endif
ifdef LIB_NXPMOTIONSENSE
  C_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/NXPMotionSense/matrix.c
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/NXPMotionSense/NXPMotionSense.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/NXPMotionSense/SensorFusion.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/NXPMotionSense
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/NXPMotionSense
endif
ifdef LIB_OCTOWS2811
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/OctoWS2811/OctoWS2811.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/OctoWS2811/OctoWS2811_imxrt.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/OctoWS2811
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/OctoWS2811
endif
ifdef LIB_ONEWIRE
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/OneWire/OneWire.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/OneWire
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/OneWire
endif
ifdef LIB_OSC
  C_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/OSC/OSCMatch.c
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/OSC/OSCBundle.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/OSC/OSCData.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/OSC/OSCMessage.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/OSC/OSCTiming.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/OSC/SLIPEncodedSerial.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/OSC/SLIPEncodedUSBSerial.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/OSC
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/OSC
endif
ifdef LIB_PING
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Ping/Ping.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Ping
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Ping
endif
ifdef LIB_PS2KEYBOARD
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/PS2Keyboard/PS2Keyboard.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/PS2Keyboard
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/PS2Keyboard
endif
ifdef LIB_PULSEPOSITION
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/PulsePosition/PulsePosition.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/PulsePosition/PulsePositionIMXRT.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/PulsePosition
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/PulsePosition
endif
ifdef LIB_PWMSERVO
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/PWMServo/PWMServo.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/PWMServo
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/PWMServo
endif
ifdef LIB_QUADENCODER
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/QuadEncoder/QuadEncoder.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/QuadEncoder
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/QuadEncoder
endif
ifdef LIB_RA8875
  C_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/RA8875/src/glcdfont.c
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/RA8875/src/RA8875.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/RA8875/src \
    -I${RUNTIME_PLATFORM_PATH}/libraries/RA8875/src/_includes \
    -I${RUNTIME_PLATFORM_PATH}/libraries/RA8875/src/_settings
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/RA8875/src
endif
ifdef LIB_RADIOHEAD
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RHCRC.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RHDatagram.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RHEncryptedDriver.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RHGenericDriver.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RHGenericSPI.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RHHardwareSP12.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RHHardwareSP1I.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RHHardwareSPI.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RHMesh.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RHNRFSPIDriver.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RHReliableDatagram.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RHRouter.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RHSoftwareSPI.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RHSPIDriver.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RH_ABZ.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RH_ASK.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RH_CC110.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RH_E32.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RH_MRF89.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RH_NRF24.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RH_NRF51.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RH_NRF905.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RH_RF22.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RH_RF24.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RH_RF69.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RH_RF95.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RH_Serial.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/RadioHead/RH_TCP.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/RadioHead
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/RadioHead
endif
ifdef LIB_RESPONSIVEANALOGREAD
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/ResponsiveAnalogRead/src/ResponsiveAnalogRead.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/ResponsiveAnalogRead/src
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/ResponsiveAnalogRead/src
endif
ifdef LIB_SD
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/SD/src/SD.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/SD/src
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/SD/src
endif
ifdef LIB_SDFAT
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/common/FmtNumber.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/common/FsCache.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/common/FsDateTime.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/common/FsName.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/common/FsStructs.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/common/FsUtf.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/common/PrintBasic.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/common/upcase.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/ExFatLib/ExFatDbg.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/ExFatLib/ExFatFile.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/ExFatLib/ExFatFilePrint.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/ExFatLib/ExFatFileWrite.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/ExFatLib/ExFatFormatter.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/ExFatLib/ExFatName.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/ExFatLib/ExFatPartition.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/ExFatLib/ExFatVolume.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/ExFatLib/upcase.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/FatLib/FatDbg.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/FatLib/FatFile.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/FatLib/FatFileLFN.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/FatLib/FatFilePrint.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/FatLib/FatFileSFN.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/FatLib/FatFormatter.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/FatLib/FatName.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/FatLib/FatPartition.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/FatLib/FatVolume.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/FreeStack.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/FsLib/FsFile.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/FsLib/FsNew.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/FsLib/FsVolume.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/iostream/istream.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/iostream/ostream.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/iostream/StdioStream.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/iostream/StreamBaseClass.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/MinimumSerial.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/SdCard/SdCardInfo.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/SdCard/SdioTeensy.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/SdCard/SdSpiCard.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/SpiDriver/SdSpiArtemis.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/SpiDriver/SdSpiChipSelect.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/SpiDriver/SdSpiDue.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/SpiDriver/SdSpiESP.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/SpiDriver/SdSpiParticle.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/SpiDriver/SdSpiSTM32.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/SpiDriver/SdSpiSTM32Core.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/SpiDriver/SdSpiTeensy3.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src \
    -I${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/common \
    -I${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/DigitalIO/boards \
    -I${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/DigitalIO \
    -I${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/ExFatLib \
    -I${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/FatLib \
    -I${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/FsLib \
    -I${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/iostream \
    -I${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/SdCard \
    -I${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/SpiDriver
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/common ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/ExFatLib ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/FatLib ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/FsLib ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/iostream ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/SdCard ${RUNTIME_PLATFORM_PATH}/libraries/SdFat/src/SpiDriver
endif
ifdef LIB_SERIALFLASH
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/SerialFlash/SerialFlashChip.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/SerialFlash/SerialFlashDirectory.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/SerialFlash
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/SerialFlash
endif
ifdef LIB_SERVO
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Servo/Servo.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Servo
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Servo
endif
ifdef LIB_SHIFTPWM
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/ShiftPWM/CShiftPWM.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/ShiftPWM
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/ShiftPWM
endif
ifdef LIB_SNOOZE
  C_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_32/hal.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_35/hal.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_36/hal.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_40/hal.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_LC/hal.c
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_32/SnoozeAlarm.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_32/SnoozeAudio.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_32/SnoozeCompare.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_32/SnoozeDigital.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_32/SnoozeSPI.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_32/SnoozeTimer.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_32/SnoozeTouch.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_32/SnoozeUSBSerial.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_35/SnoozeAlarm.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_35/SnoozeAudio.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_35/SnoozeCompare.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_35/SnoozeDigital.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_35/SnoozeSPI.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_35/SnoozeTimer.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_35/SnoozeUSBSerial.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_36/SnoozeAlarm.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_36/SnoozeAudio.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_36/SnoozeCompare.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_36/SnoozeDigital.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_36/SnoozeSPI.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_36/SnoozeTimer.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_36/SnoozeTouch.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_36/SnoozeUSBSerial.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_40/SnoozeAlarm.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_40/SnoozeCompare.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_40/SnoozeDigital.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_40/SnoozeSPI.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_40/SnoozeTimer.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_40/SnoozeUSBSerial.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_LC/SnoozeAlarm.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_LC/SnoozeCompare.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_LC/SnoozeDigital.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_LC/Snoozelc5vBuffer.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_LC/SnoozeSPI.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_LC/SnoozeTimer.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_LC/SnoozeTouch.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_LC/SnoozeUSBSerial.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/Snooze.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/SnoozeBlock.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_32 \
    -I${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_35 \
    -I${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_36 \
    -I${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_40 \
    -I${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_LC \
    -I${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_32 ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_35 ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_36 ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_40 ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src/hal/TEENSY_LC ${RUNTIME_PLATFORM_PATH}/libraries/Snooze/src
endif
ifdef LIB_SOFTPWM
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/SoftPWM/SoftPWM.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/SoftPWM
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/SoftPWM
endif
ifdef LIB_SOFTWARESERIAL
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/SoftwareSerial/SoftwareSerial.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/SoftwareSerial
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/SoftwareSerial
endif
ifdef LIB_SPI
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/SPI/SPI.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/SPI
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/SPI
endif
ifdef LIB_SPIFLASH
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/SPIFlash/SPIFlash.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/SPIFlash
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/SPIFlash
endif
ifdef LIB_TEENSY_SSD1351
  C_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/ssd1351/glcdfont.c
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/ssd1351
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/ssd1351
endif
ifdef LIB_ST7735_T3
  C_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/ST7735_t3/src/glcdfont.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/ST7735_t3/src/st7735_t3_font_Arial.c \
    ${RUNTIME_PLATFORM_PATH}/libraries/ST7735_t3/src/st7735_t3_font_ComicSansMS.c
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/ST7735_t3/src/ST7735_t3.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/ST7735_t3/src/ST7789_t3.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/ST7735_t3/src
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/ST7735_t3/src
endif
ifdef LIB_TALKIE
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Talkie/Talkie.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Talkie
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Talkie
endif
ifdef LIB_TEENSYTHREADS
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/TeensyThreads/TeensyThreads.cpp
  S_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/TeensyThreads/TeensyThreads-asm.S
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/TeensyThreads
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/TeensyThreads
endif
ifdef LIB_TFT_ILI9163C
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/TFT_ILI9163C/TFT_ILI9163C.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/TFT_ILI9163C
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/TFT_ILI9163C
endif
ifdef LIB_TIME
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Time/DateStrings.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Time/Time.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Time
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Time
endif
ifdef LIB_TIMEALARMS
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/TimeAlarms/TimeAlarms.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/TimeAlarms
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/TimeAlarms
endif
ifdef LIB_TIMERONE
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/TimerOne/TimerOne.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/TimerOne
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/TimerOne
endif
ifdef LIB_TIMERTHREE
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/TimerThree/TimerThree.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/TimerThree
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/TimerThree
endif
ifdef LIB_TINYGPS
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/TinyGPS/TinyGPS.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/TinyGPS
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/TinyGPS
endif
ifdef LIB_TLC5940
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Tlc5940/Tlc5940.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Tlc5940
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Tlc5940
endif
ifdef LIB_TOUCHSCREEN
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/TouchScreen/TouchScreen.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/TouchScreen
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/TouchScreen
endif
ifdef LIB_USBHOST_T36
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/adk.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/antplus.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/bluetooth.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/BluetoothConnection.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/digitizer.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/ehci.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/enumeration.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/hid.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/hub.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/joystick.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/keyboard.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/keyboardHIDExtras.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/MassStorageDriver.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/memory.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/midi.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/mouse.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/print.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/rawhid.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/SerEMU.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/serial.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36/USBFilesystemFormatter.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/USBHost_t36
endif
ifdef LIB_UTFT
  C_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/UTFT/DefaultFonts.c
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/UTFT/UTFT.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/UTFT
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/UTFT
endif
ifdef LIB_VIRTUALWIRE
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/VirtualWire/VirtualWire.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/VirtualWire
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/VirtualWire
endif
ifdef LIB_WIRE
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/Wire/Wire.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Wire/WireIMXRT.cpp \
    ${RUNTIME_PLATFORM_PATH}/libraries/Wire/WireKinetis.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/Wire
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/Wire
endif
ifdef LIB_WS2812SERIAL
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/WS2812Serial/WS2812Serial.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/WS2812Serial
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/WS2812Serial
endif
ifdef LIB_X10
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/x10/x10.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/x10
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/x10
endif
ifdef LIB_XBEE
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/XBee/XBee.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/XBee
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/XBee
endif
ifdef LIB_XPT2046_TOUCHSCREEN
  CPP_SYS_SRCS+=${RUNTIME_PLATFORM_PATH}/libraries/XPT2046_Touchscreen/XPT2046_Touchscreen.cpp
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/XPT2046_Touchscreen
  VPATH_MORE+=${RUNTIME_PLATFORM_PATH}/libraries/XPT2046_Touchscreen
endif
ifdef LIB__TEENSY
  SYS_INCLUDES+=-I${RUNTIME_PLATFORM_PATH}/libraries/_Teensy
endif
ifdef LIB_SDFAT___ADAFRUIT_FORK
  CPP_SYS_SRCS+=libs/SdFat/src/common/FmtNumber.cpp \
    libs/SdFat/src/common/FsCache.cpp \
    libs/SdFat/src/common/FsDateTime.cpp \
    libs/SdFat/src/common/FsName.cpp \
    libs/SdFat/src/common/FsStructs.cpp \
    libs/SdFat/src/common/FsUtf.cpp \
    libs/SdFat/src/common/PrintBasic.cpp \
    libs/SdFat/src/common/upcase.cpp \
    libs/SdFat/src/ExFatLib/ExFatDbg.cpp \
    libs/SdFat/src/ExFatLib/ExFatFile.cpp \
    libs/SdFat/src/ExFatLib/ExFatFilePrint.cpp \
    libs/SdFat/src/ExFatLib/ExFatFileWrite.cpp \
    libs/SdFat/src/ExFatLib/ExFatFormatter.cpp \
    libs/SdFat/src/ExFatLib/ExFatName.cpp \
    libs/SdFat/src/ExFatLib/ExFatPartition.cpp \
    libs/SdFat/src/ExFatLib/ExFatVolume.cpp \
    libs/SdFat/src/FatLib/FatDbg.cpp \
    libs/SdFat/src/FatLib/FatFile.cpp \
    libs/SdFat/src/FatLib/FatFileLFN.cpp \
    libs/SdFat/src/FatLib/FatFilePrint.cpp \
    libs/SdFat/src/FatLib/FatFileSFN.cpp \
    libs/SdFat/src/FatLib/FatFormatter.cpp \
    libs/SdFat/src/FatLib/FatName.cpp \
    libs/SdFat/src/FatLib/FatPartition.cpp \
    libs/SdFat/src/FatLib/FatVolume.cpp \
    libs/SdFat/src/FreeStack.cpp \
    libs/SdFat/src/FsLib/FsFile.cpp \
    libs/SdFat/src/FsLib/FsNew.cpp \
    libs/SdFat/src/FsLib/FsVolume.cpp \
    libs/SdFat/src/iostream/istream.cpp \
    libs/SdFat/src/iostream/ostream.cpp \
    libs/SdFat/src/iostream/StdioStream.cpp \
    libs/SdFat/src/iostream/StreamBaseClass.cpp \
    libs/SdFat/src/MinimumSerial.cpp \
    libs/SdFat/src/SdCard/SdCardInfo.cpp \
    libs/SdFat/src/SdCard/SdioTeensy.cpp \
    libs/SdFat/src/SdCard/SdSpiCard.cpp \
    libs/SdFat/src/SpiDriver/SdSpiArtemis.cpp \
    libs/SdFat/src/SpiDriver/SdSpiChipSelect.cpp \
    libs/SdFat/src/SpiDriver/SdSpiDue.cpp \
    libs/SdFat/src/SpiDriver/SdSpiESP.cpp \
    libs/SdFat/src/SpiDriver/SdSpiParticle.cpp \
    libs/SdFat/src/SpiDriver/SdSpiSTM32.cpp \
    libs/SdFat/src/SpiDriver/SdSpiSTM32Core.cpp \
    libs/SdFat/src/SpiDriver/SdSpiTeensy3.cpp
  SYS_INCLUDES+=-Ilibs/SdFat/src \
    -Ilibs/SdFat/src/common \
    -Ilibs/SdFat/src/DigitalIO/boards \
    -Ilibs/SdFat/src/DigitalIO \
    -Ilibs/SdFat/src/ExFatLib \
    -Ilibs/SdFat/src/FatLib \
    -Ilibs/SdFat/src/FsLib \
    -Ilibs/SdFat/src/iostream \
    -Ilibs/SdFat/src/SdCard \
    -Ilibs/SdFat/src/SpiDriver
  VPATH_MORE+=libs/SdFat/src/common libs/SdFat/src/ExFatLib libs/SdFat/src/FatLib libs/SdFat/src libs/SdFat/src/FsLib libs/SdFat/src/iostream libs/SdFat/src/SdCard libs/SdFat/src/SpiDriver
endif
ifdef LIB_ADAFRUIT_GFX_LIBRARY
  C_SYS_SRCS+=libs/GFX/glcdfont.c
  CPP_SYS_SRCS+=libs/GFX/Adafruit_GFX.cpp \
    libs/GFX/Adafruit_GrayOLED.cpp \
    libs/GFX/Adafruit_SPITFT.cpp
  SYS_INCLUDES+=-Ilibs/GFX
  VPATH_MORE+=libs/GFX
endif
ifdef LIB_ADAFRUIT_ST7735_AND_ST7789_LIBRARY
  CPP_SYS_SRCS+=libs/ST77XX/Adafruit_ST7735.cpp \
    libs/ST77XX/Adafruit_ST7789.cpp \
    libs/ST77XX/Adafruit_ST77xx.cpp
  SYS_INCLUDES+=-Ilibs/ST77XX
  VPATH_MORE+=libs/ST77XX
endif
ifdef LIB_ADAFRUIT_BUSIO
  CPP_SYS_SRCS+=libs/BusIO/Adafruit_BusIO_Register.cpp \
    libs/BusIO/Adafruit_I2CDevice.cpp \
    libs/BusIO/Adafruit_SPIDevice.cpp
  SYS_INCLUDES+=-Ilibs/BusIO
  VPATH_MORE+=libs/BusIO
endif
ifdef LIB_T4_PXP
  CPP_SYS_SRCS+=libs/T4_PXP/src/T4_PXP.cpp
  SYS_INCLUDES+=-Ilibs/T4_PXP/src
  VPATH_MORE+=libs/T4_PXP/src
endif
ifdef LIB_ADAFRUIT_GFX_BUFFER
  SYS_INCLUDES+=-Ilibs/GFX_Buffer/src
endif
ifdef LIB_ASYNCDMA_T3
  C_SYS_SRCS+=libs/AsyncDMA/glcdfont_t3.c \
    libs/AsyncDMA/st7735_t3_font_Arial.c \
    libs/AsyncDMA/st7735_t3_font_ComicSansMS.c
  CPP_SYS_SRCS+=libs/AsyncDMA/ST7735_t3.cpp \
    libs/AsyncDMA/ST7789_t3.cpp
  SYS_INCLUDES+=-Ilibs/AsyncDMA
  VPATH_MORE+=libs/AsyncDMA
endif
ifdef LIB_ADAFRUIT_RA8875
  CPP_SYS_SRCS+=libs/8875/Adafruit_RA8875.cpp
  SYS_INCLUDES+=-Ilibs/8875
  VPATH_MORE+=libs/8875
endif
SYS_SRC=${C_SYS_SRCS} ${CPP_SYS_SRCS} ${S_SYS_SRCS}
USER_SRC=${USER_C_SRCS} ${USER_CPP_SRCS} ${USER_S_SRCS}
ALL_SRC=${SYS_SRC} ${USER_SRC}
VPATH:=${VPATH}:${VPATH_MORE}:${VPATH_CORE}:${VPATH_VAR}
SYS_OBJS=\
  $(addprefix ${BUILD_PATH}/, \
    $(patsubst %.c, %.c.o, \
      $(patsubst %.cpp, %.cpp.o, \
        $(patsubst %.ino, %.ino.o, \
          $(patsubst %.S, %.S.o, $(notdir ${SYS_SRC}))))))
USER_OBJS=\
  $(addprefix ${BUILD_PATH}/, \
    $(patsubst %.c, %.c.o, \
      $(patsubst %.cpp, %.cpp.o, \
        $(patsubst %.ino, %.ino.o, \
          $(patsubst %.S, %.S.o, $(notdir ${USER_SRC}))))))
ALL_OBJS=${USER_OBJS} ${SYS_OBJS}
SYS_JSN=\
  $(addprefix ${BUILD_PATH}/, \
    $(patsubst %.c, %.c.jsn, \
      $(patsubst %.cpp, %.cpp.jsn, \
        $(patsubst %.ino, %.ino.jsn, \
          $(patsubst %.S, %.S.jsn, $(notdir ${SYS_SRC}))))))
USER_JSN=\
  $(addprefix ${BUILD_PATH}/, \
    $(patsubst %.c, %.c.jsn, \
      $(patsubst %.cpp, %.cpp.jsn, \
        $(patsubst %.ino, %.ino.jsn, \
          $(patsubst %.S, %.S.jsn, $(notdir ${USER_SRC}))))))

# And now the build rules!

# First, the phony rules that don't produce things
.PHONY: ${PROJ_NAME} flash clean allclean

# Now the default target
all: ${BUILD_PATH} ${PROJ_NAME}

# Some house keeping
clean:
	-rm ${USER_OBJS} ${USER_EXTRA}

allclean: clean
	-rm -rf ${BUILD_PATH}

# Make us rebuild user code if the makefile(s) change:
# Needs to be above the deps thing, I think
${USER_OBJS} : $(MAKEFILE_LIST)

# Let's start using the generated .d files...
-include $(ALL_OBJS:.o=.d)

# Next, the project name shortcut, because it's easier
${PROJ_NAME}: ${BUILD_PATH} ${BUILD_PATH}/${PROJ_NAME}.hex

# Add a 'flash' target
flash: ${BUILD_PATH}/${PROJ_NAME}.flash

# And finally, create the directory
${BUILD_PATH}:
ifeq ($(RUNTIME_OS),windows)
	-@mkdir "$@"
else
	@test -d "$@" || mkdir -p "$@"
endif

# Now, on to the actual rules

${BUILD_PATH}/%.S.o : %.S
	"${COMPILER_PATH}${BUILD_TOOLCHAIN}${BUILD_COMMAND_GCC}" -c ${BUILD_FLAGS_OPTIMIZE} ${BUILD_FLAGS_COMMON} ${BUILD_FLAGS_DEP} ${BUILD_FLAGS_S} ${BUILD_FLAGS_CPU} ${BUILD_FLAGS_DEFS} -DARDUINO=${RUNTIME_IDE_VERSION} -DARDUINO_${BUILD_BOARD} -DF_CPU=${BUILD_FCPU} -D${BUILD_USBTYPE} -DLAYOUT_${BUILD_KEYLAYOUT} ${SYS_INCLUDES} ${USER_INCLUDES} ${COMPILER_S_EXTRA_FLAGS} "$<" -o "$@"

${BUILD_PATH}/%.S.jsn : %.S
	$(file >$@,dir#$(<D))
	$(file >>$@,fil#$(<F))
	$(file >>$@,cmd#"${COMPILER_PATH}${BUILD_TOOLCHAIN}${BUILD_COMMAND_GCC}" -c ${BUILD_FLAGS_OPTIMIZE} ${BUILD_FLAGS_COMMON} ${BUILD_FLAGS_DEP} ${BUILD_FLAGS_S} ${BUILD_FLAGS_CPU} ${BUILD_FLAGS_DEFS} -DARDUINO=${RUNTIME_IDE_VERSION} -DARDUINO_${BUILD_BOARD} -DF_CPU=${BUILD_FCPU} -D${BUILD_USBTYPE} -DLAYOUT_${BUILD_KEYLAYOUT} ${SYS_INCLUDES} ${USER_INCLUDES} ${COMPILER_S_EXTRA_FLAGS} "$<" -o "$@")

${BUILD_PATH}/%.c.o : %.c
	"${COMPILER_PATH}${BUILD_TOOLCHAIN}${BUILD_COMMAND_GCC}" -c ${BUILD_FLAGS_OPTIMIZE} ${BUILD_FLAGS_COMMON} ${BUILD_FLAGS_DEP} ${BUILD_FLAGS_C} ${BUILD_FLAGS_CPU} ${BUILD_FLAGS_DEFS} -DARDUINO=${RUNTIME_IDE_VERSION} -DARDUINO_${BUILD_BOARD} -DF_CPU=${BUILD_FCPU} -D${BUILD_USBTYPE} -DLAYOUT_${BUILD_KEYLAYOUT} ${SYS_INCLUDES} ${USER_INCLUDES} ${COMPILER_C_EXTRA_FLAGS} "$<" -o "$@"

${BUILD_PATH}/%.c.jsn : %.c
	$(file >$@,dir#$(<D))
	$(file >>$@,fil#$(<F))
	$(file >>$@,cmd#"${COMPILER_PATH}${BUILD_TOOLCHAIN}${BUILD_COMMAND_GCC}" -c ${BUILD_FLAGS_OPTIMIZE} ${BUILD_FLAGS_COMMON} ${BUILD_FLAGS_DEP} ${BUILD_FLAGS_C} ${BUILD_FLAGS_CPU} ${BUILD_FLAGS_DEFS} -DARDUINO=${RUNTIME_IDE_VERSION} -DARDUINO_${BUILD_BOARD} -DF_CPU=${BUILD_FCPU} -D${BUILD_USBTYPE} -DLAYOUT_${BUILD_KEYLAYOUT} ${SYS_INCLUDES} ${USER_INCLUDES} ${COMPILER_C_EXTRA_FLAGS} "$<" -o "$@")

${BUILD_PATH}/%.ino.o : %.ino
	"${COMPILER_PATH}${BUILD_TOOLCHAIN}${BUILD_COMMAND_G__}" -c ${BUILD_FLAGS_OPTIMIZE} ${BUILD_FLAGS_COMMON} ${BUILD_FLAGS_DEP} ${BUILD_FLAGS_CPP} ${BUILD_FLAGS_CPU} ${BUILD_FLAGS_DEFS} -DARDUINO=${RUNTIME_IDE_VERSION} -DARDUINO_${BUILD_BOARD} -DF_CPU=${BUILD_FCPU} -D${BUILD_USBTYPE} -DLAYOUT_${BUILD_KEYLAYOUT} "-I${BUILD_PATH}/pch" ${SYS_INCLUDES} ${USER_INCLUDES} -x c++ ${COMPILER_INO_EXTRA_FLAGS} "$<" -o "$@"

${BUILD_PATH}/%.ino.jsn : %.ino
	$(file >$@,dir#$(<D))
	$(file >>$@,fil#$(<F))
	$(file >>$@,cmd#"${COMPILER_PATH}${BUILD_TOOLCHAIN}${BUILD_COMMAND_G__}" -c ${BUILD_FLAGS_OPTIMIZE} ${BUILD_FLAGS_COMMON} ${BUILD_FLAGS_DEP} ${BUILD_FLAGS_CPP} ${BUILD_FLAGS_CPU} ${BUILD_FLAGS_DEFS} -DARDUINO=${RUNTIME_IDE_VERSION} -DARDUINO_${BUILD_BOARD} -DF_CPU=${BUILD_FCPU} -D${BUILD_USBTYPE} -DLAYOUT_${BUILD_KEYLAYOUT} "-I${BUILD_PATH}/pch" ${SYS_INCLUDES} ${USER_INCLUDES} -x c++ ${COMPILER_INO_EXTRA_FLAGS} "$<" -o "$@")

${BUILD_PATH}/%.cpp.o : %.cpp
	"${COMPILER_PATH}${BUILD_TOOLCHAIN}${BUILD_COMMAND_G__}" -c ${BUILD_FLAGS_OPTIMIZE} ${BUILD_FLAGS_COMMON} ${BUILD_FLAGS_DEP} ${BUILD_FLAGS_CPP} ${BUILD_FLAGS_CPU} ${BUILD_FLAGS_DEFS} -DARDUINO=${RUNTIME_IDE_VERSION} -DARDUINO_${BUILD_BOARD} -DF_CPU=${BUILD_FCPU} -D${BUILD_USBTYPE} -DLAYOUT_${BUILD_KEYLAYOUT} "-I${BUILD_PATH}/pch" ${SYS_INCLUDES} ${USER_INCLUDES} ${COMPILER_CPP_EXTRA_FLAGS} "$<" -o "$@"

${BUILD_PATH}/%.cpp.jsn : %.cpp
	$(file >$@,dir#$(<D))
	$(file >>$@,fil#$(<F))
	$(file >>$@,cmd#"${COMPILER_PATH}${BUILD_TOOLCHAIN}${BUILD_COMMAND_G__}" -c ${BUILD_FLAGS_OPTIMIZE} ${BUILD_FLAGS_COMMON} ${BUILD_FLAGS_DEP} ${BUILD_FLAGS_CPP} ${BUILD_FLAGS_CPU} ${BUILD_FLAGS_DEFS} -DARDUINO=${RUNTIME_IDE_VERSION} -DARDUINO_${BUILD_BOARD} -DF_CPU=${BUILD_FCPU} -D${BUILD_USBTYPE} -DLAYOUT_${BUILD_KEYLAYOUT} "-I${BUILD_PATH}/pch" ${SYS_INCLUDES} ${USER_INCLUDES} ${COMPILER_CPP_EXTRA_FLAGS} "$<" -o "$@")

${BUILD_PATH}/system.a : ${SYS_OBJS}
	"${COMPILER_PATH}${BUILD_TOOLCHAIN}${BUILD_COMMAND_AR}" ${COMPILER_AR_EXTRA_FLAGS} rcs "$@" $^


${BUILD_PATH}/${BUILD_PROJECT_NAME}.elf : ${BUILD_PATH}/system.a ${USER_OBJS}
	"${COMPILER_PATH}${BUILD_TOOLCHAIN}${BUILD_COMMAND_LINKER}" ${BUILD_FLAGS_OPTIMIZE} ${BUILD_FLAGS_LD} ${BUILD_FLAGS_LDSPECS} ${BUILD_FLAGS_CPU} ${COMPILER_ELF_EXTRA_FLAGS} -o "$@" ${USER_OBJS} "${BUILD_PATH}/system.a" "-L${BUILD_PATH}" ${BUILD_FLAGS_LIBS}


${BUILD_PATH}/${BUILD_PROJECT_NAME}.hex : ${BUILD_PATH}/${BUILD_PROJECT_NAME}.elf
	"${COMPILER_PATH}${BUILD_TOOLCHAIN}${BUILD_COMMAND_OBJCOPY}" ${COMPILER_ELF2HEX_FLAGS} "$<" "$@"

${BUILD_PATH}/${BUILD_PROJECT_NAME}.flash : ${BUILD_PATH}/${BUILD_PROJECT_NAME}.hex
	${UPLOAD_PATTERN} ${UPLOAD_EXTRA_FLAGS}


${BUILD_PATH}/compile_commands.jsn: ${USER_JSN} ${SYS_JSN}
	@cat ${USER_JSN} ${SYS_JSN} > $@

compile_commands: ${BUILD_PATH} ${BUILD_PATH}/compile_commands.jsn